Metadata-Version: 2.1
Name: infoblox-discovery
Version: 0.1.2
Summary: A Prometheus file and http discovery for infoblox
Home-page: https://github.com/thenodon/infoblox_discovery
Author: thenodon
Author-email: aha@ingby.com
License: GPLv3
Requires-Python: >=3.8
Description-Content-Type: text/markdown
License-File: LICENSE
Requires-Dist: requests (~=2.25.1)
Requires-Dist: urllib3 (~=1.26.10)
Requires-Dist: PyYAML (~=6.0)
Requires-Dist: fastapi (~=0.95.0)
Requires-Dist: APScheduler (==3.10.1)
Requires-Dist: uvicorn (~=0.21.1)
Requires-Dist: python-dateutil (~=2.8.2)
Requires-Dist: prometheus-fastapi-instrumentator
Requires-Dist: setuptools (~=67.7.2)
Requires-Dist: infoblox-client (==0.6.0)
Requires-Dist: IPy (==1.01)

infoblox-discovery
---------------------

# Overview

# Design

## Web endpoints
These fqdn "hosts" that are based on networks, e.g. `192.91.218.0/24`. 
The result is based on two queries.
1. Get all ipv4address from the network where type is `HOST`
2. For all the above get all `dns_aliases` from `record:host` and check if `External` is in the
`_ref` string
# Configuration

# Run 

# Test 

```shell
curl -s 'localhost:9694/prometheus-sd-targets?master=infoblox.foo.com&type=members'
```
The `master` must match the master entry in the configuration file.
The type can be:
- members
- nodes
- dns_servers
- dhcp_ranges
- zones
- web_endpoints
