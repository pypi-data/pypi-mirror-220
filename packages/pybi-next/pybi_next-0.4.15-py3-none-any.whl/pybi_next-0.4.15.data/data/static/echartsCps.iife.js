var echartsCps=function(f){"use strict";var ye;const _e=typeof window<"u",ht=e=>typeof e=="string",gt=()=>{};_e&&((ye=window==null?void 0:window.navigator)!=null&&ye.userAgent)&&/iP(ad|hone|od)/.test(window.navigator.userAgent);function yt(e){return typeof e=="function"?e():f.unref(e)}function _t(e){return e}function ve(e){return f.getCurrentScope()?(f.onScopeDispose(e),!0):!1}function vt(e,t=!0){f.getCurrentInstance()?f.onMounted(e):t?e():f.nextTick(e)}function be(e){var t;const r=yt(e);return(t=r==null?void 0:r.$el)!=null?t:r}const we=_e?window:void 0;function bt(...e){let t,r,n,a;if(ht(e[0])||Array.isArray(e[0])?([r,n,a]=e,t=we):[t,r,n,a]=e,!t)return gt;Array.isArray(r)||(r=[r]),Array.isArray(n)||(n=[n]);const i=[],o=()=>{i.forEach(p=>p()),i.length=0},s=(p,c,d)=>(p.addEventListener(c,d,a),()=>p.removeEventListener(c,d,a)),u=f.watch(()=>be(t),p=>{o(),p&&i.push(...r.flatMap(c=>n.map(d=>s(p,c,d))))},{immediate:!0,flush:"post"}),l=()=>{u(),o()};return ve(l),l}function wt(e,t=!1){const r=f.ref(),n=()=>r.value=!!e();return n(),vt(n,t),r}const Oe=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},me="__vueuse_ssr_handlers__";Oe[me]=Oe[me]||{};var Te=Object.getOwnPropertySymbols,Ot=Object.prototype.hasOwnProperty,mt=Object.prototype.propertyIsEnumerable,Tt=(e,t)=>{var r={};for(var n in e)Ot.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&Te)for(var n of Te(e))t.indexOf(n)<0&&mt.call(e,n)&&(r[n]=e[n]);return r};function At(e,t,r={}){const n=r,{window:a=we}=n,i=Tt(n,["window"]);let o;const s=wt(()=>a&&"ResizeObserver"in a),u=()=>{o&&(o.disconnect(),o=void 0)},l=f.watch(()=>be(e),c=>{u(),s.value&&a&&c&&(o=new ResizeObserver(t),o.observe(c,i))},{immediate:!0,flush:"post"}),p=()=>{u(),l()};return ve(p),{isSupported:s,stop:p}}var Ae;(function(e){e.UP="UP",e.RIGHT="RIGHT",e.DOWN="DOWN",e.LEFT="LEFT",e.NONE="NONE"})(Ae||(Ae={}));var $t=Object.defineProperty,$e=Object.getOwnPropertySymbols,Pt=Object.prototype.hasOwnProperty,xt=Object.prototype.propertyIsEnumerable,Pe=(e,t,r)=>t in e?$t(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,Et=(e,t)=>{for(var r in t||(t={}))Pt.call(t,r)&&Pe(e,r,t[r]);if($e)for(var r of $e(t))xt.call(t,r)&&Pe(e,r,t[r]);return e};Et({linear:_t},{easeInSine:[.12,0,.39,0],easeOutSine:[.61,1,.88,1],easeInOutSine:[.37,0,.63,1],easeInQuad:[.11,0,.5,0],easeOutQuad:[.5,1,.89,1],easeInOutQuad:[.45,0,.55,1],easeInCubic:[.32,0,.67,0],easeOutCubic:[.33,1,.68,1],easeInOutCubic:[.65,0,.35,1],easeInQuart:[.5,0,.75,0],easeOutQuart:[.25,1,.5,1],easeInOutQuart:[.76,0,.24,1],easeInQuint:[.64,0,.78,0],easeOutQuint:[.22,1,.36,1],easeInOutQuint:[.83,0,.17,1],easeInExpo:[.7,0,.84,0],easeOutExpo:[.16,1,.3,1],easeInOutExpo:[.87,0,.13,1],easeInCirc:[.55,0,1,.45],easeOutCirc:[0,.55,.45,1],easeInOutCirc:[.85,0,.15,1],easeInBack:[.36,0,.66,-.56],easeOutBack:[.34,1.56,.64,1],easeInOutBack:[.68,-.6,.32,1.6]});function J(e,t){return`${e.id}_opt${t}`}var It=typeof global=="object"&&global&&global.Object===Object&&global;const xe=It;var St=typeof self=="object"&&self&&self.Object===Object&&self,Ct=xe||St||Function("return this")();const T=Ct;var Ft=T.Symbol;const I=Ft;var Ee=Object.prototype,Rt=Ee.hasOwnProperty,Dt=Ee.toString,L=I?I.toStringTag:void 0;function jt(e){var t=Rt.call(e,L),r=e[L];try{e[L]=void 0;var n=!0}catch{}var a=Dt.call(e);return n&&(t?e[L]=r:delete e[L]),a}var Mt=Object.prototype,Nt=Mt.toString;function Gt(e){return Nt.call(e)}var Bt="[object Null]",Lt="[object Undefined]",Ie=I?I.toStringTag:void 0;function j(e){return e==null?e===void 0?Lt:Bt:Ie&&Ie in Object(e)?jt(e):Gt(e)}function M(e){return e!=null&&typeof e=="object"}var Ut="[object Symbol]";function k(e){return typeof e=="symbol"||M(e)&&j(e)==Ut}function Kt(e,t){for(var r=-1,n=e==null?0:e.length,a=Array(n);++r<n;)a[r]=t(e[r],r,e);return a}var zt=Array.isArray;const O=zt;var Ht=1/0,Se=I?I.prototype:void 0,Ce=Se?Se.toString:void 0;function Fe(e){if(typeof e=="string")return e;if(O(e))return Kt(e,Fe)+"";if(k(e))return Ce?Ce.call(e):"";var t=e+"";return t=="0"&&1/e==-Ht?"-0":t}function U(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}function Vt(e){return e}var qt="[object AsyncFunction]",Qt="[object Function]",Wt="[object GeneratorFunction]",Yt="[object Proxy]";function Re(e){if(!U(e))return!1;var t=j(e);return t==Qt||t==Wt||t==qt||t==Yt}var Xt=T["__core-js_shared__"];const ee=Xt;var De=function(){var e=/[^.]+$/.exec(ee&&ee.keys&&ee.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function Zt(e){return!!De&&De in e}var Jt=Function.prototype,kt=Jt.toString;function C(e){if(e!=null){try{return kt.call(e)}catch{}try{return e+""}catch{}}return""}var er=/[\\^$.*+?()[\]{}|]/g,tr=/^\[object .+?Constructor\]$/,rr=Function.prototype,nr=Object.prototype,ar=rr.toString,ir=nr.hasOwnProperty,or=RegExp("^"+ar.call(ir).replace(er,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function sr(e){if(!U(e)||Zt(e))return!1;var t=Re(e)?or:tr;return t.test(C(e))}function ur(e,t){return e==null?void 0:e[t]}function F(e,t){var r=ur(e,t);return sr(r)?r:void 0}var cr=F(T,"WeakMap");const te=cr;function fr(){}var lr=function(){try{var e=F(Object,"defineProperty");return e({},"",{}),e}catch{}}();const je=lr;function pr(e,t,r,n){for(var a=e.length,i=r+(n?1:-1);n?i--:++i<a;)if(t(e[i],i,e))return i;return-1}function dr(e){return e!==e}function hr(e,t,r){for(var n=r-1,a=e.length;++n<a;)if(e[n]===t)return n;return-1}function gr(e,t,r){return t===t?hr(e,t,r):pr(e,dr,r)}function yr(e,t){var r=e==null?0:e.length;return!!r&&gr(e,t,0)>-1}var _r=9007199254740991,vr=/^(?:0|[1-9]\d*)$/;function re(e,t){var r=typeof e;return t=t??_r,!!t&&(r=="number"||r!="symbol"&&vr.test(e))&&e>-1&&e%1==0&&e<t}function Me(e,t,r){t=="__proto__"&&je?je(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r}function ne(e,t){return e===t||e!==e&&t!==t}var br=Object.prototype,wr=br.hasOwnProperty;function Or(e,t,r){var n=e[t];(!(wr.call(e,t)&&ne(n,r))||r===void 0&&!(t in e))&&Me(e,t,r)}var mr=9007199254740991;function ae(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=mr}function Ne(e){return e!=null&&ae(e.length)&&!Re(e)}var Tr=Object.prototype;function Ar(e){var t=e&&e.constructor,r=typeof t=="function"&&t.prototype||Tr;return e===r}function $r(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}var Pr="[object Arguments]";function Ge(e){return M(e)&&j(e)==Pr}var Be=Object.prototype,xr=Be.hasOwnProperty,Er=Be.propertyIsEnumerable,Ir=Ge(function(){return arguments}())?Ge:function(e){return M(e)&&xr.call(e,"callee")&&!Er.call(e,"callee")};const Le=Ir;function Sr(){return!1}var Ue=typeof exports=="object"&&exports&&!exports.nodeType&&exports,Ke=Ue&&typeof module=="object"&&module&&!module.nodeType&&module,Cr=Ke&&Ke.exports===Ue,ze=Cr?T.Buffer:void 0,Fr=ze?ze.isBuffer:void 0,Rr=Fr||Sr;const ie=Rr;var Dr="[object Arguments]",jr="[object Array]",Mr="[object Boolean]",Nr="[object Date]",Gr="[object Error]",Br="[object Function]",Lr="[object Map]",Ur="[object Number]",Kr="[object Object]",zr="[object RegExp]",Hr="[object Set]",Vr="[object String]",qr="[object WeakMap]",Qr="[object ArrayBuffer]",Wr="[object DataView]",Yr="[object Float32Array]",Xr="[object Float64Array]",Zr="[object Int8Array]",Jr="[object Int16Array]",kr="[object Int32Array]",en="[object Uint8Array]",tn="[object Uint8ClampedArray]",rn="[object Uint16Array]",nn="[object Uint32Array]",y={};y[Yr]=y[Xr]=y[Zr]=y[Jr]=y[kr]=y[en]=y[tn]=y[rn]=y[nn]=!0,y[Dr]=y[jr]=y[Qr]=y[Mr]=y[Wr]=y[Nr]=y[Gr]=y[Br]=y[Lr]=y[Ur]=y[Kr]=y[zr]=y[Hr]=y[Vr]=y[qr]=!1;function an(e){return M(e)&&ae(e.length)&&!!y[j(e)]}function on(e){return function(t){return e(t)}}var He=typeof exports=="object"&&exports&&!exports.nodeType&&exports,K=He&&typeof module=="object"&&module&&!module.nodeType&&module,sn=K&&K.exports===He,oe=sn&&xe.process,un=function(){try{var e=K&&K.require&&K.require("util").types;return e||oe&&oe.binding&&oe.binding("util")}catch{}}();const Ve=un;var qe=Ve&&Ve.isTypedArray,cn=qe?on(qe):an;const Qe=cn;var fn=Object.prototype,ln=fn.hasOwnProperty;function pn(e,t){var r=O(e),n=!r&&Le(e),a=!r&&!n&&ie(e),i=!r&&!n&&!a&&Qe(e),o=r||n||a||i,s=o?$r(e.length,String):[],u=s.length;for(var l in e)(t||ln.call(e,l))&&!(o&&(l=="length"||a&&(l=="offset"||l=="parent")||i&&(l=="buffer"||l=="byteLength"||l=="byteOffset")||re(l,u)))&&s.push(l);return s}function dn(e,t){return function(r){return e(t(r))}}var hn=dn(Object.keys,Object);const gn=hn;var yn=Object.prototype,_n=yn.hasOwnProperty;function vn(e){if(!Ar(e))return gn(e);var t=[];for(var r in Object(e))_n.call(e,r)&&r!="constructor"&&t.push(r);return t}function se(e){return Ne(e)?pn(e):vn(e)}var bn=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,wn=/^\w*$/;function ue(e,t){if(O(e))return!1;var r=typeof e;return r=="number"||r=="symbol"||r=="boolean"||e==null||k(e)?!0:wn.test(e)||!bn.test(e)||t!=null&&e in Object(t)}var On=F(Object,"create");const z=On;function mn(){this.__data__=z?z(null):{},this.size=0}function Tn(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var An="__lodash_hash_undefined__",$n=Object.prototype,Pn=$n.hasOwnProperty;function xn(e){var t=this.__data__;if(z){var r=t[e];return r===An?void 0:r}return Pn.call(t,e)?t[e]:void 0}var En=Object.prototype,In=En.hasOwnProperty;function Sn(e){var t=this.__data__;return z?t[e]!==void 0:In.call(t,e)}var Cn="__lodash_hash_undefined__";function Fn(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=z&&t===void 0?Cn:t,this}function R(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}R.prototype.clear=mn,R.prototype.delete=Tn,R.prototype.get=xn,R.prototype.has=Sn,R.prototype.set=Fn;function Rn(){this.__data__=[],this.size=0}function Q(e,t){for(var r=e.length;r--;)if(ne(e[r][0],t))return r;return-1}var Dn=Array.prototype,jn=Dn.splice;function Mn(e){var t=this.__data__,r=Q(t,e);if(r<0)return!1;var n=t.length-1;return r==n?t.pop():jn.call(t,r,1),--this.size,!0}function Nn(e){var t=this.__data__,r=Q(t,e);return r<0?void 0:t[r][1]}function Gn(e){return Q(this.__data__,e)>-1}function Bn(e,t){var r=this.__data__,n=Q(r,e);return n<0?(++this.size,r.push([e,t])):r[n][1]=t,this}function A(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}A.prototype.clear=Rn,A.prototype.delete=Mn,A.prototype.get=Nn,A.prototype.has=Gn,A.prototype.set=Bn;var Ln=F(T,"Map");const H=Ln;function Un(){this.size=0,this.__data__={hash:new R,map:new(H||A),string:new R}}function Kn(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}function W(e,t){var r=e.__data__;return Kn(t)?r[typeof t=="string"?"string":"hash"]:r.map}function zn(e){var t=W(this,e).delete(e);return this.size-=t?1:0,t}function Hn(e){return W(this,e).get(e)}function Vn(e){return W(this,e).has(e)}function qn(e,t){var r=W(this,e),n=r.size;return r.set(e,t),this.size+=r.size==n?0:1,this}function $(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}$.prototype.clear=Un,$.prototype.delete=zn,$.prototype.get=Hn,$.prototype.has=Vn,$.prototype.set=qn;var Qn="Expected a function";function ce(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(Qn);var r=function(){var n=arguments,a=t?t.apply(this,n):n[0],i=r.cache;if(i.has(a))return i.get(a);var o=e.apply(this,n);return r.cache=i.set(a,o)||i,o};return r.cache=new(ce.Cache||$),r}ce.Cache=$;var Wn=500;function Yn(e){var t=ce(e,function(n){return r.size===Wn&&r.clear(),n}),r=t.cache;return t}var Xn=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Zn=/\\(\\)?/g,Jn=Yn(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(Xn,function(r,n,a,i){t.push(a?i.replace(Zn,"$1"):n||r)}),t});const kn=Jn;function ea(e){return e==null?"":Fe(e)}function fe(e,t){return O(e)?e:ue(e,t)?[e]:kn(ea(e))}var ta=1/0;function V(e){if(typeof e=="string"||k(e))return e;var t=e+"";return t=="0"&&1/e==-ta?"-0":t}function We(e,t){t=fe(t,e);for(var r=0,n=t.length;e!=null&&r<n;)e=e[V(t[r++])];return r&&r==n?e:void 0}function ra(e,t,r){var n=e==null?void 0:We(e,t);return n===void 0?r:n}function na(e,t){for(var r=-1,n=t.length,a=e.length;++r<n;)e[a+r]=t[r];return e}function aa(){this.__data__=new A,this.size=0}function ia(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r}function oa(e){return this.__data__.get(e)}function sa(e){return this.__data__.has(e)}var ua=200;function ca(e,t){var r=this.__data__;if(r instanceof A){var n=r.__data__;if(!H||n.length<ua-1)return n.push([e,t]),this.size=++r.size,this;r=this.__data__=new $(n)}return r.set(e,t),this.size=r.size,this}function P(e){var t=this.__data__=new A(e);this.size=t.size}P.prototype.clear=aa,P.prototype.delete=ia,P.prototype.get=oa,P.prototype.has=sa,P.prototype.set=ca;function fa(e,t){for(var r=-1,n=e==null?0:e.length,a=0,i=[];++r<n;){var o=e[r];t(o,r,e)&&(i[a++]=o)}return i}function la(){return[]}var pa=Object.prototype,da=pa.propertyIsEnumerable,Ye=Object.getOwnPropertySymbols,ha=Ye?function(e){return e==null?[]:(e=Object(e),fa(Ye(e),function(t){return da.call(e,t)}))}:la;const ga=ha;function ya(e,t,r){var n=t(e);return O(e)?n:na(n,r(e))}function Xe(e){return ya(e,se,ga)}var _a=F(T,"DataView");const le=_a;var va=F(T,"Promise");const pe=va;var ba=F(T,"Set");const N=ba;var Ze="[object Map]",wa="[object Object]",Je="[object Promise]",ke="[object Set]",et="[object WeakMap]",tt="[object DataView]",Oa=C(le),ma=C(H),Ta=C(pe),Aa=C(N),$a=C(te),D=j;(le&&D(new le(new ArrayBuffer(1)))!=tt||H&&D(new H)!=Ze||pe&&D(pe.resolve())!=Je||N&&D(new N)!=ke||te&&D(new te)!=et)&&(D=function(e){var t=j(e),r=t==wa?e.constructor:void 0,n=r?C(r):"";if(n)switch(n){case Oa:return tt;case ma:return Ze;case Ta:return Je;case Aa:return ke;case $a:return et}return t});const rt=D;var Pa=T.Uint8Array;const nt=Pa;var xa="__lodash_hash_undefined__";function Ea(e){return this.__data__.set(e,xa),this}function Ia(e){return this.__data__.has(e)}function q(e){var t=-1,r=e==null?0:e.length;for(this.__data__=new $;++t<r;)this.add(e[t])}q.prototype.add=q.prototype.push=Ea,q.prototype.has=Ia;function Sa(e,t){for(var r=-1,n=e==null?0:e.length;++r<n;)if(t(e[r],r,e))return!0;return!1}function at(e,t){return e.has(t)}var Ca=1,Fa=2;function it(e,t,r,n,a,i){var o=r&Ca,s=e.length,u=t.length;if(s!=u&&!(o&&u>s))return!1;var l=i.get(e),p=i.get(t);if(l&&p)return l==t&&p==e;var c=-1,d=!0,h=r&Fa?new q:void 0;for(i.set(e,t),i.set(t,e);++c<s;){var g=e[c],_=t[c];if(n)var b=o?n(_,g,c,t,e,i):n(g,_,c,e,t,i);if(b!==void 0){if(b)continue;d=!1;break}if(h){if(!Sa(t,function(v,x){if(!at(h,x)&&(g===v||a(g,v,r,n,i)))return h.push(x)})){d=!1;break}}else if(!(g===_||a(g,_,r,n,i))){d=!1;break}}return i.delete(e),i.delete(t),d}function Ra(e){var t=-1,r=Array(e.size);return e.forEach(function(n,a){r[++t]=[a,n]}),r}function de(e){var t=-1,r=Array(e.size);return e.forEach(function(n){r[++t]=n}),r}var Da=1,ja=2,Ma="[object Boolean]",Na="[object Date]",Ga="[object Error]",Ba="[object Map]",La="[object Number]",Ua="[object RegExp]",Ka="[object Set]",za="[object String]",Ha="[object Symbol]",Va="[object ArrayBuffer]",qa="[object DataView]",ot=I?I.prototype:void 0,he=ot?ot.valueOf:void 0;function Qa(e,t,r,n,a,i,o){switch(r){case qa:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case Va:return!(e.byteLength!=t.byteLength||!i(new nt(e),new nt(t)));case Ma:case Na:case La:return ne(+e,+t);case Ga:return e.name==t.name&&e.message==t.message;case Ua:case za:return e==t+"";case Ba:var s=Ra;case Ka:var u=n&Da;if(s||(s=de),e.size!=t.size&&!u)return!1;var l=o.get(e);if(l)return l==t;n|=ja,o.set(e,t);var p=it(s(e),s(t),n,a,i,o);return o.delete(e),p;case Ha:if(he)return he.call(e)==he.call(t)}return!1}var Wa=1,Ya=Object.prototype,Xa=Ya.hasOwnProperty;function Za(e,t,r,n,a,i){var o=r&Wa,s=Xe(e),u=s.length,l=Xe(t),p=l.length;if(u!=p&&!o)return!1;for(var c=u;c--;){var d=s[c];if(!(o?d in t:Xa.call(t,d)))return!1}var h=i.get(e),g=i.get(t);if(h&&g)return h==t&&g==e;var _=!0;i.set(e,t),i.set(t,e);for(var b=o;++c<u;){d=s[c];var v=e[d],x=t[d];if(n)var Z=o?n(x,v,d,t,e,i):n(v,x,d,e,t,i);if(!(Z===void 0?v===x||a(v,x,r,n,i):Z)){_=!1;break}b||(b=d=="constructor")}if(_&&!b){var S=e.constructor,G=t.constructor;S!=G&&"constructor"in e&&"constructor"in t&&!(typeof S=="function"&&S instanceof S&&typeof G=="function"&&G instanceof G)&&(_=!1)}return i.delete(e),i.delete(t),_}var Ja=1,st="[object Arguments]",ut="[object Array]",Y="[object Object]",ka=Object.prototype,ct=ka.hasOwnProperty;function ei(e,t,r,n,a,i){var o=O(e),s=O(t),u=o?ut:rt(e),l=s?ut:rt(t);u=u==st?Y:u,l=l==st?Y:l;var p=u==Y,c=l==Y,d=u==l;if(d&&ie(e)){if(!ie(t))return!1;o=!0,p=!1}if(d&&!p)return i||(i=new P),o||Qe(e)?it(e,t,r,n,a,i):Qa(e,t,u,r,n,a,i);if(!(r&Ja)){var h=p&&ct.call(e,"__wrapped__"),g=c&&ct.call(t,"__wrapped__");if(h||g){var _=h?e.value():e,b=g?t.value():t;return i||(i=new P),a(_,b,r,n,i)}}return d?(i||(i=new P),Za(e,t,r,n,a,i)):!1}function ge(e,t,r,n,a){return e===t?!0:e==null||t==null||!M(e)&&!M(t)?e!==e&&t!==t:ei(e,t,r,n,ge,a)}var ti=1,ri=2;function ni(e,t,r,n){var a=r.length,i=a,o=!n;if(e==null)return!i;for(e=Object(e);a--;){var s=r[a];if(o&&s[2]?s[1]!==e[s[0]]:!(s[0]in e))return!1}for(;++a<i;){s=r[a];var u=s[0],l=e[u],p=s[1];if(o&&s[2]){if(l===void 0&&!(u in e))return!1}else{var c=new P;if(n)var d=n(l,p,u,e,t,c);if(!(d===void 0?ge(p,l,ti|ri,n,c):d))return!1}}return!0}function ft(e){return e===e&&!U(e)}function ai(e){for(var t=se(e),r=t.length;r--;){var n=t[r],a=e[n];t[r]=[n,a,ft(a)]}return t}function lt(e,t){return function(r){return r==null?!1:r[e]===t&&(t!==void 0||e in Object(r))}}function ii(e){var t=ai(e);return t.length==1&&t[0][2]?lt(t[0][0],t[0][1]):function(r){return r===e||ni(r,e,t)}}function oi(e,t){return e!=null&&t in Object(e)}function si(e,t,r){t=fe(t,e);for(var n=-1,a=t.length,i=!1;++n<a;){var o=V(t[n]);if(!(i=e!=null&&r(e,o)))break;e=e[o]}return i||++n!=a?i:(a=e==null?0:e.length,!!a&&ae(a)&&re(o,a)&&(O(e)||Le(e)))}function ui(e,t){return e!=null&&si(e,t,oi)}var ci=1,fi=2;function li(e,t){return ue(e)&&ft(t)?lt(V(e),t):function(r){var n=ra(r,e);return n===void 0&&n===t?ui(r,e):ge(t,n,ci|fi)}}function pi(e){return function(t){return t==null?void 0:t[e]}}function di(e){return function(t){return We(t,e)}}function hi(e){return ue(e)?pi(V(e)):di(e)}function gi(e){return typeof e=="function"?e:e==null?Vt:typeof e=="object"?O(e)?li(e[0],e[1]):ii(e):hi(e)}function yi(e,t,r,n){for(var a=-1,i=e==null?0:e.length;++a<i;){var o=e[a];t(n,o,r(o),e)}return n}function _i(e){return function(t,r,n){for(var a=-1,i=Object(t),o=n(t),s=o.length;s--;){var u=o[e?s:++a];if(r(i[u],u,i)===!1)break}return t}}var vi=_i();const bi=vi;function wi(e,t){return e&&bi(e,t,se)}function Oi(e,t){return function(r,n){if(r==null)return r;if(!Ne(r))return e(r,n);for(var a=r.length,i=t?a:-1,o=Object(r);(t?i--:++i<a)&&n(o[i],i,o)!==!1;);return r}}var mi=Oi(wi);const Ti=mi;function Ai(e,t,r,n){return Ti(e,function(a,i,o){t(n,a,r(a),o)}),n}function $i(e,t){return function(r,n){var a=O(r)?yi:Ai,i=t?t():{};return a(r,e,gi(n),i)}}function Pi(e,t,r){for(var n=-1,a=e==null?0:e.length;++n<a;)if(r(t,e[n]))return!0;return!1}var xi=Object.prototype,Ei=xi.hasOwnProperty,Ii=$i(function(e,t,r){Ei.call(e,r)?e[r].push(t):Me(e,r,[t])});const Si=Ii;function Ci(e,t,r,n){if(!U(e))return e;t=fe(t,e);for(var a=-1,i=t.length,o=i-1,s=e;s!=null&&++a<i;){var u=V(t[a]),l=r;if(u==="__proto__"||u==="constructor"||u==="prototype")return e;if(a!=o){var p=s[u];l=n?n(p,u,s):void 0,l===void 0&&(l=U(p)?p:re(t[a+1])?[]:{})}Or(s,u,l),s=s[u]}return e}function X(e,t,r){return e==null?e:Ci(e,t,r)}var Fi=1/0,Ri=N&&1/de(new N([,-0]))[1]==Fi?function(e){return new N(e)}:fr;const Di=Ri;var ji=200;function Mi(e,t,r){var n=-1,a=yr,i=e.length,o=!0,s=[],u=s;if(r)o=!1,a=Pi;else if(i>=ji){var l=t?null:Di(e);if(l)return de(l);o=!1,a=at,u=new q}else u=t?[]:s;e:for(;++n<i;){var p=e[n],c=t?t(p):p;if(p=r||p!==0?p:0,o&&c===c){for(var d=u.length;d--;)if(u[d]===c)continue e;t&&u.push(c),s.push(p)}else a(u,c,r)||(u!==s&&u.push(c),s.push(p))}return s}function Ni(e){return e&&e.length?Mi(e):[]}const Gi={uniq:Ni,groupBy:Si};function Bi(e,t){const r=new Function("utils","rows","fields",e??"");function n(a){switch(t){case"udf":if(e!==null)return r(Gi,a.rows,a.fields);break;case"infer":default:return a.inferData()}}return{map:n}}function Li(e,t,r,n,a){const i=n.db.parse2sqlValueBaseFieldType(a.table,a.field,e),o=J(t,r);n.dataset.addFilter(o,a.table,`${a.field}=${i}`)}function Ui(){return function(){let e=null;const t=()=>e;function r(n){e=n}return{setValue:r,value:t}}()}function Ki(e){const t=e.getOption();t.series.forEach((r,n)=>{}),e.setOption(t,!0)}function zi(e,t){const r=e.getOption();r.series.forEach((n,a)=>{n.data.forEach(i=>{typeof i=="object"&&(i.groupId=t.value)})}),e.setOption(r,!0)}function Hi(e,t){e.series.forEach((r,n)=>{r.dataGroupId=t.value(),r.data.forEach(a=>{typeof a=="object"&&delete a.groupId})})}function Vi(e,t,r,n,a,i){let o=null;return e.updateInfos.forEach(s=>{s.actionType===t&&(o=r(s),Li(o,n,a,i,s))}),o}function qi(e){return e.updateInfos.some(t=>t.actionType==="click")}function Qi(e,t){Hi(e,t)}function Wi(e,t){if(t.valueType==="x"||t.valueType==="y")return e.name;if(t.valueType==="color")return e.seriesName;throw new Error(`bar chart not support value type : ${t.valueType}`)}function Yi(e,t){if(t.valueType==="x"||t.valueType==="y")return e.name;if(t.valueType==="color")return e.seriesName;throw new Error(`line chart not support value type : ${t.valueType}`)}function Xi(e,t){if(t.valueType==="name")return e.name;throw new Error(`pie chart not support value type : ${t.valueType}`)}function Zi(e,t){if(t.valueType==="x")return e.data[0];if(t.valueType==="y")return e.data[1];if(t.valueType==="color")return e.seriesName;throw new Error(`scatter chart not support value type : ${t.valueType}`)}function Ji(e,t){if(t.valueType==="name")return e.name;throw new Error(`scatter chart not support value type : ${t.valueType}`)}function ki(e,t){if(t.valueType==="name")return e.name;throw new Error(`radar chart not support value type : ${t.valueType}`)}const pt=new Map([["bar",Wi],["line",Yi],["pie",Xi],["scatter",Zi],["map",Ji],["radar",ki]]);function dt(e,t){const r=e.seriesType;if(pt.has(r))return pt.get(r)(e,t);throw new Error(`ParamValueGetter not support chart type:[${r}]`)}function eo(e,t){if(t.seriesHasData()){const r=t.series.data[0];r.length>0&&(typeof r[0]=="string"&&e.setProps(`xAxis[${t.getXAxisIndex()}].type`,"category"),typeof r[1]=="string"&&e.setProps(`yAxis[${t.getYAxisIndex()}].type`,"category"))}}function to(e){"xAxis"in e&&!Array.isArray(e.xAxis)&&(e.xAxis=[e.xAxis]),"yAxis"in e&&!Array.isArray(e.yAxis)&&(e.yAxis=[e.yAxis]),e.xAxis,e.yAxis;function t(a,i){X(e,a,i)}function r(a,i,o){t(`series[${a}].${i}`,o)}function n(a){if(a>=e.series.length)return!1;const i=e.series[a];return"data"in i&&i.data.length>0}return{options:e,setProps:t,setSeriesProps:r,seriesHasData:n}}function ro(e){function t(i,o){X(e,i,o)}function r(){return"data"in e&&e.data.length>0}function n(){return"xAxisIndex"in e?e.xAxisIndex:0}function a(){return"yAxisIndex"in e?e.yAxisIndex:0}return{series:e,setProps:t,seriesHasData:r,getXAxisIndex:n,getYAxisIndex:a}}function no(e){for(const t of e.series){if(!("type"in t))continue;const r=to(e),n=ro(t);switch(t.type){case"line":break;case"bar":break;case"pie":break;case"scatter":eo(r,n);break}}}function ao(e){return new Function(`f= ${e};return f `)()}function io(e,t,r,n){const a=e.chartInfos[t],i=a.options,o=Ui(),s=qi(a);a.jsCodes.forEach(h=>{const g=ao(h.code);X(i,h.path,g)});function u(){switch(a.datasetInfos.forEach(h=>{const _=n.utils.createSqlQuery(J(e,t),h.sqlInfo.sql).query(),v=Bi(h.sqlInfo.jsMap,h.sqlInfo.type).map(_);X(i,h.path,v)}),r.value){case"forward":Qi(i,o);break}return no(i),i}function l(){a.updateInfos.forEach(h=>{const g=J(e,t);n.dataset.removeFilters(g,h.table)})}function p(h,g){return Vi(a,g,b=>dt(h,b),e,t,n)}function c(h){switch(r.value){case"forward":Ki(h);break;case"back":zi(h,o);break}}function d(h){o.setValue(h)}return{useOptions:u,addFilter:p,removeFilter:l,drillStartPos:c,setDataGroupValue:d,getValueFromParams:dt,hasClickInfo:s}}function oo(e,t){const r=f.ref("none");let n=[];e.optionType==="dict"&&(n=e.chartInfos.map((c,d)=>io(e,d,r,t)));const a=f.ref(0),i=f.computed(()=>a.value>0),o=f.computed(()=>a.value<n.length-1),s=f.computed(()=>n[a.value]);function u(c,d,h){s.value.hasClickInfo&&(r.value="forward",s.value.drillStartPos(c),a.value+=1,s.value.setDataGroupValue(h))}function l(c){r.value="back",s.value.drillStartPos(c),a.value-=1}function p(c,d){const h=c.getOption();h&&(h.series.forEach((g,_)=>{"universalTransition"in g&&"seriesKey"in g.universalTransition&&(g.universalTransition.seriesKey=d),delete g.dataGroupId}),c.setOption(h))}return{curController:s,next:u,canBack:i,canForward:o,back:l,setSeriesKeys:p}}function so(e,t){const r=oo(e,t);function n(){return f.computed(()=>r.curController.value.useOptions())}function a(){r.curController.value.removeFilter()}function i(o,s){return r.curController.value.addFilter(o,s)}return{getData:n,addFilter:i,removeFilter:a,chartController:r}}const uo="sqlAnalyzeKey",co="componentKey",fo="datasetKey",lo="dbKey",po="utilsKey",ho="webResourcesServiceKey",go=["data-tag"],yo={key:0,class:"debug-box"},_o={key:0,rows:"25",cols:"50",readonly:""},vo=f.defineComponent({__name:"EChart",props:{model:null},setup(e){const t=e;f.useCssVars(E=>({"91538b48":f.unref(b)}));const r=f.inject(fo),n=f.inject(uo),a=f.inject(lo),i=f.inject(co),o=f.inject(po),s=f.inject(ho),u=t.model,l=[];u.chartInfos.forEach(E=>{E==null||E.mapIds.forEach(B=>{const w=s.getResource(B);l.push(w)})});const p=f.computed(()=>l.every(E=>E.value)),c=so(u,{sqlAnalyze:n,dataset:r,db:a,utils:o}),d=f.ref(null),h=c.getData(),g=f.ref(null),_=f.computed(()=>d.value?d.value.style.height==="":!0);u.width;const b=u.height;let v=null;f.onUnmounted(()=>{v==null||v.dispose()}),f.watch([p,g],([E,B])=>{if(!(E&&B)||(v=echarts.init(B,null,{renderer:i.getApp().echartsRenderer}),v===null))return;const w=v;f.watchEffect(()=>{c.chartController.setSeriesKeys(w,h.value.series.map(m=>m.id)),w.setOption(h.value,!0)}),w.on("mouseover","series",m=>{c.chartController.curController.value.hasClickInfo||c.addFilter(m,"hover")}),w.on("mouseout","series",m=>{c.chartController.curController.value.hasClickInfo||c.removeFilter()});function bo(){c.chartController.curController.value.hasClickInfo&&c.removeFilter()}w.getZr().on("click",function(m){m.target||bo()}),w.on("click","series",m=>{if(c.chartController.canForward.value){const wo=c.addFilter(m,"click");c.chartController.next(w,m,wo)}else c.addFilter(m,"click")}),bt("resize",()=>{w.resize()}),At(B,()=>{w.resize()})});function x(){c.chartController.back(v),c.chartController.curController.value.removeFilter()}const Z=u.debugTag!==null,S=f.ref(!1);function G(){S.value=!S.value}return(E,B)=>(f.openBlock(),f.createElementBlock("div",{ref_key:"chartBox",ref:d,class:"echart-box pybi-container","data-tag":f.unref(u).tag,"data-pybi-auto-width":""},[f.withDirectives(f.createElementVNode("div",{class:"back",onClick:x},"上一级",512),[[f.vShow,f.unref(c).chartController.canBack.value]]),Z?(f.openBlock(),f.createElementBlock("div",yo,[f.createElementVNode("button",{onClick:G},"options view open"),S.value?(f.openBlock(),f.createElementBlock("textarea",_o,f.toDisplayString(f.unref(h)),1)):f.createCommentVNode("",!0)])):f.createCommentVNode("",!0),f.createElementVNode("div",{class:f.normalizeClass(["echart",{"min-height-chart":f.unref(_)}]),ref_key:"chartDiv",ref:g},null,2)],8,go))}}),mo="";return[{tag:"EChart",cp:((e,t)=>{const r=e.__vccOpts||e;for(const[n,a]of t)r[n]=a;return r})(vo,[["__scopeId","data-v-acc7a2a2"]])}]}(Vue);
