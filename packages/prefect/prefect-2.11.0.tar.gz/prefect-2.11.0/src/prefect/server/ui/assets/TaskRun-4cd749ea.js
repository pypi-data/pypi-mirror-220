import{d as D,V as A,E as N,v as V,c as s,S as j,at as v,ai as B,b as o,e as r,w as e,g as c,o as i,i as u,u as n,au as E,av as d,A as F,k as f,aw as J,t as K,n as L,ax as O,ay as P,ar as X,a9 as $}from"./index-cb67f98f.js";import{u as q}from"./usePageTitle-e9e1cd1d.js";const Q=D({__name:"TaskRun",setup(z){const R=A(),p=N("taskRunId"),k=V(),g=s(()=>{const a=["Logs","Artifacts","Task Inputs"];return j.xl||a.push("Details"),a}),m=s(()=>p.value?[p.value]:null),w=v(k.taskRuns.getTaskRun,m,{interval:3e4}),t=s(()=>w.response),l=s(()=>{var a;return(a=t.value)==null?void 0:a.flowRunId}),T=s(()=>l.value?[l.value]:null),y=v(k.flowRuns.getFlowRun,T),_=s(()=>{var a;return(a=t.value)!=null&&a.taskInputs?JSON.stringify(t.value.taskInputs,void 0,2):"{}"});function h(){y.refresh(),R.push($.flowRun(l.value))}const x=s(()=>{var a;return(a=t.value)==null?void 0:a.stateType});B(x);const I=s(()=>t.value?`Task Run: ${t.value.name}`:"Task Run");return q(I),(a,G)=>{const b=o("p-code-highlight"),S=o("p-tabs"),C=o("p-layout-well");return t.value?(i(),r(C,{key:0,class:"task-run"},{header:e(()=>[u(n(E),{"task-run-id":t.value.id,onDelete:h},null,8,["task-run-id"])]),well:e(()=>[u(n(d),{alternate:"","task-run":t.value},null,8,["task-run"])]),default:e(()=>[u(S,{tabs:g.value},F({details:e(()=>[u(n(d),{"task-run":t.value},null,8,["task-run"])]),logs:e(()=>[u(n(O),{"task-run":t.value},null,8,["task-run"])]),artifacts:e(()=>[t.value?(i(),r(n(P),{key:0,"task-run":t.value},null,8,["task-run"])):c("",!0)]),"task-inputs":e(()=>[t.value?(i(),r(n(X),{key:0,"text-to-copy":_.value},{default:e(()=>[u(b,{lang:"json",text:_.value,class:"task-run__inputs"},null,8,["text"])]),_:1},8,["text-to-copy"])):c("",!0)]),_:2},[t.value?{name:"task-inputs-heading",fn:e(()=>[f(" Task inputs "),u(n(J),{title:"Task Inputs"},{default:e(()=>[f(K(n(L).info.taskInput),1)]),_:1})]),key:"0"}:void 0]),1032,["tabs"])]),_:1})):c("",!0)}}});export{Q as default};
