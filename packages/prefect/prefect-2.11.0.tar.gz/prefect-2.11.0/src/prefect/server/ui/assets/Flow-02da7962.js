import{d as y,aC as h,y as x,c as l,s as g,x as B,z as v,o as n,h as C,O as T,i as o,u as s,aD as D,P as E,l as N,H as V,T as H,v as J,E as z,V as O,R as P,aE as $,aF as G,b as F,e as c,w as a,aG as M,g as p,aH as U,aI as j,aJ as q,a9 as A}from"./index-cb67f98f.js";import{s as K,a as L}from"./index-d6eb1d44.js";import{u as Q}from"./usePageTitle-e9e1cd1d.js";const W={class:"flow-stats"},X={class:"flow-stats__cards"},Y=y({__name:"FlowStats",props:{flowId:{}},setup(_){const i=_,{flowId:u}=h(i),t=x("span",H,L*24),r=l(()=>({flowId:u.value,timeSpanInSeconds:t.value}));g(B,{interval:K(30)});const f=l(()=>v.map("FlowStatsFilter",r.value,"FlowRunsFilter")),d=l(()=>v.map("FlowStatsFilter",r.value,"TaskRunsFilter"));return(m,e)=>(n(),C("div",W,[T("div",X,[o(s(D),{filter:f.value},null,8,["filter"]),o(s(E),{filter:d.value},null,8,["filter"])]),o(s(V),{selected:s(t),"onUpdate:selected":e[0]||(e[0]=w=>N(t)?t.value=w:null),size:"sm"},null,8,["selected"])]))}});const oe=y({__name:"Flow",setup(_){const i=J(),u=z("flowId"),t=l(()=>[u.value]),r=O(),f=["Runs","Deployments","Details"],d={interval:3e5},m=P(i.flows.getFlow,[u.value],d),e=l(()=>m.response),{filter:w}=$({flows:{id:t}}),{filter:R}=G({flows:{id:t}});function I(){r.push(A.flows())}const S=l(()=>e.value?`Flow: ${e.value.name}`:"Flow");return Q(S),(Z,ee)=>{const k=F("p-tabs"),b=F("p-layout-default");return n(),c(b,{class:"flow"},{header:a(()=>[e.value?(n(),c(s(M),{key:0,flow:e.value,onDelete:I},null,8,["flow"])):p("",!0)]),default:a(()=>[e.value?(n(),c(Y,{key:0,"flow-id":e.value.id},null,8,["flow-id"])):p("",!0),o(k,{tabs:f},{details:a(()=>[e.value?(n(),c(s(U),{key:0,flow:e.value},null,8,["flow"])):p("",!0)]),deployments:a(()=>[o(s(j),{filter:s(R)},null,8,["filter"])]),runs:a(()=>[o(s(q),{"flow-run-filter":s(w)},null,8,["flow-run-filter"])]),_:1})]),_:1})}}});export{oe as default};
