(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6780],{2850:function(e,n,t){"use strict";t.d(n,{M:function(){return c},W:function(){return l}});var r=t(38626),i=t(3055),l=34*t(49125).iI,c=r.default.div.withConfig({displayName:"indexstyle__BeforeStyle",componentId:"sc-12ee2ib-0"})(["min-height:calc(100vh - ","px);"],i.Mz)},60547:function(e,n,t){"use strict";t.d(n,{Z:function(){return I}});var r=t(82394),i=t(21831),l=t(82684),c=t(34376),a=t(47999),o=t(1210),s=t(34744),u=t(49894),d=t(67971),p=t(87372),f=t(86673),b=t(82531),h=t(38626),v=t(23831),m=t(73942),j=t(49125),g=h.default.div.withConfig({displayName:"indexstyle__BannerStyle",componentId:"sc-1te3pmf-0"})(["border-radius:","px;padding:","px;"," "," ",""],m.n_,3*j.iI,(function(e){return"\n    box-shadow: ".concat((e.theme.shadow||v.Z.shadow).small,";\n  ")}),(function(e){return e.background&&"\n    background: ".concat(e.background,";\n  ")}),(function(e){return e.backgroundImage&&'\n    background-image: url("'.concat(e.backgroundImage,'");\n    background-position: center;\n    background-repeat: no-repeat;\n    background-size: cover;\n  ')})),x=t(3055),Z=t(36405),O=t(96510),y=t(24141),k=t(28598);function P(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function _(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?P(Object(t),!0).forEach((function(n){(0,r.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):P(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var I=function(e){var n=e.after,t=e.afterHidden,r=e.afterWidth,h=e.before,v=e.beforeWidth,m=e.breadcrumbs,P=e.buildSidekick,I=e.children,w=e.errors,S=e.headline,D=e.pageName,E=e.pipeline,C=e.setErrors,T=e.subheader,N=e.subheaderBackground,M=e.subheaderBackgroundImage,L=e.subheaderButton,F=e.subheaderText,U=e.title,A=e.uuid,R=(0,y.i)().height,B=(0,c.useRouter)().query.pipeline,H=E.uuid,V=b.ZP.pipelines.detail(H,{includes_outputs:!1},{revalidateOnFocus:!1}).data,z=null===V||void 0===V?void 0:V.pipeline;(0,l.useEffect)((function(){(0,O.bB)(V,C)}),[V,C]);var W=(0,l.useMemo)((function(){return n||(P?P({height:R,heightOffset:x.Mz,pipeline:z}):null)}),[n,P,R,z]),Y=r||(W?50*j.iI:null),K=(0,l.useMemo)((function(){var e=[];return z?(e.push.apply(e,[{label:function(){return"Pipelines"},linkProps:{href:"/pipelines"}}]),m?(e.push({label:function(){return z.uuid},linkProps:{as:"/pipelines/".concat(H,"/triggers"),href:"/pipelines/[pipeline]/triggers"}}),e.push.apply(e,(0,i.Z)(m)),e[e.length-1].bold=!0):e.push({bold:!0,label:function(){return z.name}})):null!==V&&void 0!==V&&V.error&&e.push({bold:!0,danger:!0,label:function(){return"Error loading pipeline"}}),e}),[m,null===V||void 0===V?void 0:V.error,z,H]);return(0,k.jsxs)(k.Fragment,{children:[(0,k.jsxs)(o.Z,{after:W,afterHidden:t,afterWidth:Y,before:h,beforeWidth:v,breadcrumbs:K,navigationItems:(0,Z.H)(D,z,B),subheaderChildren:"undefined"!==typeof T&&T,title:z?U?U(z):z.name:null,uuid:A,children:[(L||F)&&(0,k.jsx)(f.Z,{mb:j.Mq,mt:j.cd,mx:j.cd,children:(0,k.jsx)(g,{background:N,backgroundImage:M,children:(0,k.jsxs)(d.Z,{alignItems:"center",children:[L,F&&(0,k.jsx)(f.Z,{ml:3}),F]})})}),S&&(0,k.jsx)(f.Z,{p:j.cd,children:(0,k.jsxs)(f.Z,{mt:j.cd,px:j.cd,children:[(0,k.jsx)(p.Z,{level:5,children:S}),(0,k.jsx)(s.Z,{light:!0,mt:j.cd,short:!0})]})}),I]}),w&&(0,k.jsx)(a.Z,{disableClickOutside:!0,isOpen:!0,onClickOutside:function(){return null===C||void 0===C?void 0:C(null)},children:(0,k.jsx)(u.Z,_(_({},w),{},{onClose:function(){return null===C||void 0===C?void 0:C(null)}}))})]})}},56681:function(e,n,t){"use strict";t.d(n,{G7:function(){return O},ZP:function(){return y},u$:function(){return g}});var r=t(75582),i=t(82394),l=t(26304),c=t(32316),a=t(22673),o=t(48952),s=t(86673),u=t(19711),d=t(87815),p=t(49125),f=t(19395),b=t(7715),h=t(28598),v=["height","heightOffset","pipeline","selectedRun","selectedTab","setSelectedTab"];function m(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function j(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?m(Object(t),!0).forEach((function(n){(0,i.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):m(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var g=76,x={uuid:"Run details"},Z={uuid:"Dependency tree"},O=[Z,x];function y(e){var n=e.height,t=e.heightOffset,i=e.pipeline,m=e.selectedRun,y=e.selectedTab,k=e.setSelectedTab,P=j({},(0,l.Z)(e,v));m?P.blockStatus=(0,f.IJ)(null===m||void 0===m?void 0:m.block_runs):P.noStatus=!0;var _=(0,b.Kn)(null===m||void 0===m?void 0:m.variables)?j({},null===m||void 0===m?void 0:m.variables):(null===m||void 0===m?void 0:m.variables)||{},I=null===m||void 0===m?void 0:m.event_variables;if(I&&(0,b.Kn)(I)&&!(0,b.Qr)(I))if((0,b.Kn)(_)&&_.hasOwnProperty("event")){var w=(0,b.Kn)(_.event)?_.event:{};_.event=j(j({},w),I)}else _.event=j({},I);var S=[];_&&JSON.stringify(_,null,2).split("\n").forEach((function(e){S.push("    ".concat(e))}));var D=m&&[["Run ID",null===m||void 0===m?void 0:m.id],["Variables",(0,h.jsx)(a.Z,{language:"json",small:!0,source:S.join("\n")},"variable_value")]],E=m&&(0,h.jsx)(s.Z,{pb:p.cd,px:p.cd,children:(0,h.jsx)(d.Z,{alignTop:!0,columnFlex:[null,1],columnMaxWidth:function(e){return 1===e?"100px":null},rows:D.map((function(e,n){var t=(0,r.Z)(e,2),i=t[0],l=t[1];return[(0,h.jsx)(u.ZP,{monospace:!0,muted:!0,children:i},"key_".concat(n)),(0,h.jsx)(u.ZP,{monospace:!0,textOverflow:!0,children:l},"val_".concat(n))]})),uuid:"LogDetail"})}),C=y&&k;return(0,h.jsxs)(h.Fragment,{children:[C&&(0,h.jsx)(s.Z,{py:p.cd,children:(0,h.jsx)(c.Z,{onClickTab:k,selectedTabUUID:null===y||void 0===y?void 0:y.uuid,tabs:O})}),(!C||Z.uuid===(null===y||void 0===y?void 0:y.uuid))&&(0,h.jsx)(o.Z,j(j({},P),{},{height:n,heightOffset:(t||0)+(C?g:0),pipeline:i})),x.uuid===(null===y||void 0===y?void 0:y.uuid)&&E]})}},58122:function(e,n,t){"use strict";t.d(n,{FS:function(){return o},JZ:function(){return u},e7:function(){return d},wx:function(){return s}});var r=t(75582),i=t(82394),l=t(93348);function c(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function a(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?c(Object(t),!0).forEach((function(n){(0,i.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):c(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function o(e){return"string"===typeof e?e:JSON.stringify(e)}function s(e,n){var t,r;return null===e||void 0===e||null===(t=e.find((function(e){var t=e.block;return n(t)})))||void 0===t||null===(r=t.variables)||void 0===r?void 0:r.map((function(e){var n=e.value;return a(a({},e),{},{value:o(n)})}))}function u(e,n){return n===l.Xm.TIME?e.push({uuid:"execution_date",value:"<run datetime>"}):n===l.Xm.EVENT&&e.push({uuid:"event",value:"<trigger event>"}),e}function d(e){return e?Object.entries(e).reduce((function(e,n){var t=(0,r.Z)(n,2),l=t[0],c=t[1],o=c;try{o=JSON.parse(c)}catch(s){}return a(a({},e),{},(0,i.Z)({},l,o))}),{}):e}},18025:function(e,n,t){"use strict";t.d(n,{J:function(){return o},U:function(){return a}});var r=t(38626),i=t(23831),l=t(73942),c=t(49125),a=r.default.div.withConfig({displayName:"indexstyle__CardStyle",componentId:"sc-m7tlau-0"})(["border-radius:","px;border-style:solid;border-width:2px;height:","px;margin-right:","px;padding:","px;width:","px;"," ",""],l.TR,14*c.iI,c.cd*c.iI,c.cd*c.iI,40*c.iI,(function(e){return!e.selected&&"\n    border-color: ".concat((e.theme.borders||i.Z.borders).light,";\n  ")}),(function(e){return e.selected&&"\n    border-color: ".concat((e.theme.interactive||i.Z.interactive).linkPrimary,";\n  ")})),o=r.default.div.withConfig({displayName:"indexstyle__DateSelectionContainer",componentId:"sc-m7tlau-1"})(["border-radius:","px;padding:","px;"," "," ",""],l.n_,c.tr,(function(e){return"\n    background-color: ".concat((e.theme.interactive||i.Z.interactive).defaultBackground,";\n  ")}),(function(e){return e.absolute&&"\n    position: absolute;\n    z-index: 2;\n    right: 0;\n    top: ".concat(2.5*c.iI,"px;\n  ")}),(function(e){return e.topPosition&&"\n    top: -".concat(42*c.iI,"px;\n  ")}))},43526:function(e,n,t){"use strict";t.d(n,{I7:function(){return r},IB:function(){return o},VV:function(){return l},_7:function(){return c},rn:function(){return a}});var r,i=t(66050),l="datetime",c="code",a=i.V;!function(e){e.SECOND="second",e.MINUTE="minute",e.HOUR="hour",e.DAY="day",e.WEEK="week",e.MONTH="month",e.YEAR="year",e.CUSTOM="custom"}(r||(r={}));var o=[r.MINUTE,r.HOUR,r.DAY,r.WEEK,r.MONTH,r.YEAR,r.CUSTOM]},52769:function(e,n,t){"use strict";t.d(n,{C:function(){return r}});var r="global"},2713:function(e,n,t){"use strict";var r=t(82394),i=t(44495),l=t(67971),c=t(55378),a=t(86673),o=t(19711),s=t(18025),u=t(49125),d=t(24224),p=t(28598);function f(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function b(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?f(Object(t),!0).forEach((function(n){(0,r.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):f(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}n.Z=function(e){var n=e.selectedDate,t=e.selectedTime,r=e.setSelectedDate,f=e.setSelectedTime,h=e.topPosition;return(0,p.jsxs)(s.J,{absolute:!0,topPosition:h,children:[(0,p.jsx)(i.ZP,{onChange:r,value:n}),(0,p.jsx)(a.Z,{mb:2}),(0,p.jsxs)(l.Z,{alignItems:"center",children:[(0,p.jsx)(o.ZP,{default:!0,large:!0,children:"Time (UTC):"}),(0,p.jsx)(a.Z,{pr:2}),(0,p.jsx)(c.Z,{compact:!0,monospace:!0,onChange:function(e){e.preventDefault(),f((function(n){return b(b({},n),{},{hour:e.target.value})}))},paddingRight:5*u.iI,placeholder:"HH",value:null===t||void 0===t?void 0:t.hour,children:(0,d.m5)(24,0).map((function(e){return String(e).padStart(2,"0")})).map((function(e){return(0,p.jsx)("option",{value:e,children:e},"hour_".concat(e))}))}),(0,p.jsx)(a.Z,{px:1,children:(0,p.jsx)(o.ZP,{bold:!0,large:!0,children:":"})}),(0,p.jsx)(c.Z,{compact:!0,monospace:!0,onChange:function(e){e.preventDefault(),f((function(n){return b(b({},n),{},{minute:e.target.value})}))},paddingRight:5*u.iI,placeholder:"MM",value:null===t||void 0===t?void 0:t.minute,children:(0,d.m5)(60,0).map((function(e){return String(e).padStart(2,"0")})).map((function(e){return(0,p.jsx)("option",{value:e,children:e},"minute_".concat(e))}))})]})]})}},22673:function(e,n,t){"use strict";var r=t(82684),i=t(68792),l=t(31811),c=t(38626),a=t(65292),o=t(23831),s=t(2005),u=t(49125),d=t(28598);n.Z=function(e){var n=e.language,t=e.maxWidth,p=e.showLineNumbers,f=e.small,b=e.source,h=e.wrapLines,v=(0,r.useContext)(c.ThemeContext);function m(e){var r=e.value;return(0,d.jsx)(l.Z,{customStyle:{backgroundColor:(v.background||o.Z.background).popup,border:"none",borderRadius:"none",boxShadow:"none",fontFamily:s.Vp,fontSize:f?12:14,marginBottom:0,marginTop:0,maxWidth:t,paddingBottom:2*u.iI,paddingTop:2*u.iI},language:n,lineNumberStyle:{color:(v.content||o.Z.content).muted},showLineNumbers:p,style:a._4,useInlineStyles:!0,wrapLines:h,children:r})}return(0,d.jsx)(i.D,{components:{code:function(e){var n=e.children;return(0,d.jsx)(m,{value:n})}},children:b})}},32316:function(e,n,t){"use strict";t.d(n,{Z:function(){return v}});var r=t(82684),i=t(60328),l=t(67971),c=t(882),a=t(86673),o=t(19711),s=t(99994),u=t(38626),d=t(49125),p=t(37391),f=u.default.div.withConfig({displayName:"indexstyle__TabsContainerStyle",componentId:"sc-segf7l-0"})(["padding-left:","px;padding-right:","px;"," "," ",""],d.cd*d.iI,d.cd*d.iI,(function(e){return e.noPadding&&"\n    padding: 0;\n  "}),(function(e){return e.allowScroll&&"\n    overflow: auto;\n  "}),p.w5),b=t(66653),h=t(28598);var v=function(e){var n=e.allowScroll,t=e.compact,u=e.contained,p=e.noPadding,v=e.onClickTab,m=e.regularSizeText,j=e.selectedTabUUID,g=e.small,x=e.tabs,Z=(0,r.useMemo)((function(){var e=x.length,n=[];return x.forEach((function(r,u){var p=r.Icon,f=r.IconSelected,x=r.label,Z=r.uuid,O=Z===j,y=O&&f||p,k=x?x():Z,P=(0,h.jsxs)(l.Z,{alignItems:"center",children:[y&&(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(y,{default:!O,size:2*d.iI}),(0,h.jsx)(a.Z,{mr:1})]}),(0,h.jsx)(o.ZP,{bold:!0,default:!O,noWrapping:!0,small:!m,children:k})]});u>=1&&e>=2&&n.push((0,h.jsx)("div",{style:{marginLeft:1.5*d.iI}},"spacing-".concat(Z))),O?n.push((0,h.jsx)(c.Z,{backgroundGradient:s.yr,backgroundPanel:!0,borderLess:!0,borderWidth:2,compact:t||g,onClick:function(e){(0,b.j)(e),v(r)},paddingUnitsHorizontal:1.75,paddingUnitsVertical:1.25,small:g,children:P},Z)):n.push((0,h.jsx)("div",{style:{padding:2},children:(0,h.jsx)(i.Z,{borderLess:!0,compact:t||g,default:!0,onClick:function(e){(0,b.j)(e),v(r)},outline:!0,small:g,children:P})},"button-tab-".concat(Z)))})),n}),[t,v,j,g,x]),O=(0,h.jsx)(l.Z,{alignItems:"center",children:Z});return u?O:(0,h.jsx)(f,{allowScroll:n,noPadding:p,children:O})}},12625:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return ie}});var r=t(75582),i=t(77837),l=t(82394),c=t(38860),a=t.n(c),o=t(82684),s=t(83455),u=t(34376),d=t(43526),p=t(60328),f=t(34744),b=t(67971),h=t(87372),v=t(51099),m=t(60547),j=t(97496),g=t(47409),x=t(52769),Z=t(55378),O=t(86673),y=t(54283),k=t(87815),P=t(19711),_=t(82531),I=t(56681),w=t(10503),S=t(2850),D=t(49125),E=t(59920),C=t(90211),T=t(58122),N=t(19395),M=t(33766),L=t(7715),F=t(9736),U=t(96510),A=t(66653),R=t(59e3),B=t(28598);function H(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function V(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?H(Object(t),!0).forEach((function(n){(0,l.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):H(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var z=function(e){var n=e.backfill,t=e.errors,i=e.fetchBackfill,l=e.pipeline,c=e.setErrors,a=e.variables,H=(0,F.Ct)(),z=(0,u.useRouter)(),W=n||{},Y=W.block_uuid,K=W.end_datetime,J=W.id,G=W.interval_type,q=W.interval_units,X=W.name,Q=W.pipeline_run_dates,$=W.start_datetime,ee=W.status,ne=W.total_run_count,te=W.variables,re=void 0===te?{}:te,ie=l.uuid,le=(0,R.iV)(),ce={_limit:40,_offset:40*(null!==le&&void 0!==le&&le.page?le.page:0)};null!==le&&void 0!==le&&le.status&&(ce.status=le.status);var ae=_.ZP.pipeline_runs.list(V(V({},ce),{},{backfill_id:J}),{refreshInterval:3e3,revalidateOnFocus:!0},{pauseFetch:!J}),oe=ae.data,se=ae.mutate,ue=!($&&K&&G&&q),de=!ee,pe=(0,o.useMemo)((function(){return(de?Q:null===oe||void 0===oe?void 0:oe.pipeline_runs)||[]}),[oe,Q,de]),fe=(0,o.useMemo)((function(){var e;return(null===oe||void 0===oe||null===(e=oe.metadata)||void 0===e?void 0:e.count)||[]}),[oe]),be=(0,o.useState)(null),he=be[0],ve=be[1],me=(0,o.useMemo)((function(){var e=null!==le&&void 0!==le&&le.page?le.page:0;return(0,B.jsxs)(B.Fragment,{children:[(0,B.jsx)(j.Z,{disableRowSelect:de,emptyMessage:null!==le&&void 0!==le&&le.status?"No runs available":'No runs available. Please complete backfill configuration by clicking "Edit backfill" above.',fetchPipelineRuns:se,onClickRow:function(e){return ve((function(n){var t=pe[e];return(null===n||void 0===n?void 0:n.id)!==t.id?t:null}))},pipelineRuns:pe,selectedRun:he,setErrors:c}),(0,B.jsx)(O.Z,{p:2,children:(0,B.jsx)(v.Z,{maxPages:9,onUpdate:function(e){var n=Number(e),t=V(V({},le),{},{page:n>=0?n:0});z.push("/pipelines/[pipeline]/backfills/[...slug]","/pipelines/".concat(ie,"/backfills/").concat(J,"?").concat((0,R.uM)(t)))},page:Number(e),totalPages:Math.ceil(fe/40)})})]})}),[se,J,pe,ie,le,z,he,de,fe]),je=(0,o.useState)(I.G7[0]),ge=je[0],xe=je[1],Ze=(0,s.Db)(_.ZP.backfills.useUpdate(J),{onSuccess:function(e){return(0,U.wD)(e,{callback:function(){i(),se()},onErrorCallback:function(e,n){return c({errors:n,response:e})}})}}),Oe=(0,r.Z)(Ze,2),ye=Oe[0],ke=Oe[1].isLoading,Pe=(0,o.useMemo)((function(){return!!ee&&(d.rn.CANCELLED!==ee&&d.rn.FAILED!==ee)}),[ee]),_e=(0,o.useMemo)((function(){return ee&&d.rn.CANCELLED!==ee&&d.rn.FAILED!==ee&&d.rn.INITIAL!==ee&&d.rn.RUNNING!==ee}),[ee]),Ie=(0,o.useMemo)((function(){var e={default:!0,size:1.5*D.iI},n=[[(0,B.jsxs)(b.Z,{alignItems:"center",children:[(0,B.jsx)(w.VW,V({},e)),(0,B.jsx)(O.Z,{mr:1}),(0,B.jsx)(P.ZP,{default:!0,children:"Backfill type"})]},"backfill_type_label"),(0,B.jsx)(P.ZP,{monospace:!0,children:Y?d._7:d.VV},"backfill_type")],[(0,B.jsxs)(b.Z,{alignItems:"center",children:[(0,B.jsx)(w.rs,V({},e)),(0,B.jsx)(O.Z,{mr:1}),(0,B.jsx)(P.ZP,{default:!0,children:"Status"})]},"backfill_status_label"),(0,B.jsx)(P.ZP,{danger:d.rn.CANCELLED===ee||d.rn.FAILED==ee,default:d.rn.INITIAL===ee,monospace:!0,muted:!ee,success:d.rn.RUNNING===ee||d.rn.COMPLETED===ee,children:ee||"inactive"},"backfill_status")]];return Y||n.push.apply(n,[[(0,B.jsxs)(b.Z,{alignItems:"center",children:[(0,B.jsx)(w.aw,V({},e)),(0,B.jsx)(O.Z,{mr:1}),(0,B.jsx)(P.ZP,{default:!0,children:"Start date and time"})]},"backfill_start_date_label"),(0,B.jsx)(P.ZP,{monospace:!0,children:(0,N.Vx)($)},"backfill_start_date")],[(0,B.jsxs)(b.Z,{alignItems:"center",children:[(0,B.jsx)(w.aw,V({},e)),(0,B.jsx)(O.Z,{mr:1}),(0,B.jsx)(P.ZP,{default:!0,children:"End date and time"})]},"backfill_end_date_label"),(0,B.jsx)(P.ZP,{monospace:!0,children:(0,N.Vx)(K)},"backfill_end_date")],[(0,B.jsxs)(b.Z,{alignItems:"center",children:[(0,B.jsx)(w.Pf,V({},e)),(0,B.jsx)(O.Z,{mr:1}),(0,B.jsx)(P.ZP,{default:!0,children:"Interval type"})]},"interval_type_label"),(0,B.jsx)(P.ZP,{monospace:!0,children:G&&(0,C.kC)(G)},"interval_type")],[(0,B.jsxs)(b.Z,{alignItems:"center",children:[(0,B.jsx)(w.Pf,V({},e)),(0,B.jsx)(O.Z,{mr:1}),(0,B.jsx)(P.ZP,{default:!0,children:"Interval units"})]},"interval_units_label"),(0,B.jsx)(P.ZP,{monospace:!0,children:q},"interval_units")],[(0,B.jsxs)(b.Z,{alignItems:"center",children:[(0,B.jsx)(w.qZ,V({},e)),(0,B.jsx)(O.Z,{mr:1}),(0,B.jsx)(P.ZP,{default:!0,children:"Total runs"})]},"total_runs_label"),(0,B.jsx)(P.ZP,{monospace:!0,children:ne},"total_runs")]]),(0,B.jsx)(k.Z,{columnFlex:[null,1],rows:n})}),[Y,K,G,q,$,ee,ne]),we=(0,o.useMemo)((function(){return re||{}}),[re]),Se=(0,o.useMemo)((function(){var e,n=[];return(0,L.Qr)(we)?n=(0,T.wx)(a,(function(e){return e.uuid===x.C})):Object.entries(we).forEach((function(e){var t=(0,r.Z)(e,2),i=t[0],l=t[1];n.push({uuid:i,value:(0,T.FS)(l)})})),"undefined"!==typeof n&&null!==(e=n)&&void 0!==e&&e.length?(0,B.jsx)(k.Z,{columnFlex:[null,1],rows:n.map((function(e){var n=e.uuid,t=e.value;return[(0,B.jsx)(P.ZP,{default:!0,monospace:!0,small:!0,children:n},"settings_variable_label_".concat(n)),(0,B.jsx)(P.ZP,{monospace:!0,small:!0,children:t},"settings_variable_".concat(n))]}))}):null}),[we,a]);return(0,B.jsx)(B.Fragment,{children:(0,B.jsxs)(m.Z,{afterHidden:!he,before:(0,B.jsxs)(S.M,{children:[(0,B.jsxs)(O.Z,{mb:D.HN,pt:D.cd,px:D.cd,children:[(0,B.jsx)(O.Z,{mb:D.cd,children:(0,B.jsx)(w.yg,{size:5*D.iI})}),(0,B.jsx)(h.Z,{children:X})]}),(0,B.jsx)(O.Z,{px:D.cd,children:(0,B.jsx)(h.Z,{level:5,children:"Settings"})}),(0,B.jsx)(f.Z,{light:!0,mt:1,short:!0}),Ie,Se&&(0,B.jsxs)(O.Z,{my:D.HN,children:[(0,B.jsx)(O.Z,{px:D.cd,children:(0,B.jsx)(h.Z,{level:5,children:"Runtime variables"})}),(0,B.jsx)(f.Z,{light:!0,mt:1,short:!0}),Se]})]}),beforeWidth:34*D.iI,breadcrumbs:[{label:function(){return"Backfills"},linkProps:{as:"/pipelines/".concat(ie,"/backfills"),href:"/pipelines/[pipeline]/backfills"}},{label:function(){return X},linkProps:{as:"/pipelines/".concat(ie,"/backfills/").concat(J),href:"/pipelines/[pipeline]/backfills/[...slug]"}}],buildSidekick:function(e){return(0,I.ZP)(V(V({},e),{},{selectedRun:he,selectedTab:ge,setSelectedTab:xe}))},errors:t,pageName:E.M.BACKFILLS,pipeline:l,setErrors:c,subheader:(0,B.jsxs)(b.Z,{alignItems:"center",children:[!_e&&(0,B.jsxs)(B.Fragment,{children:[(0,B.jsx)(p.Z,{beforeIcon:Pe?(0,B.jsx)(w.dz,{size:2*D.iI}):(0,B.jsx)(w.Py,{inverted:!(d.rn.CANCELLED===ee||d.rn.FAILED===ee),size:2*D.iI}),danger:Pe,disabled:ue,loading:ke,onClick:function(e){(0,A.j)(e),ye({backfill:{status:Pe?d.rn.CANCELLED:d.rn.INITIAL}})},outline:!0,success:!Pe&&!(d.rn.CANCELLED===ee||d.rn.FAILED===ee)&&!ue,children:Pe?"Cancel backfill":d.rn.CANCELLED===ee||d.rn.FAILED===ee?"Retry backfill":"Start backfill"}),(0,B.jsx)(O.Z,{mr:D.cd})]}),!H&&(0,B.jsxs)(B.Fragment,{children:[ee===g.VO.COMPLETED?(0,B.jsx)(P.ZP,{bold:!0,default:!0,large:!0,children:"Filter runs by status:"}):(0,B.jsx)(p.Z,{linkProps:{as:"/pipelines/".concat(ie,"/backfills/").concat(J,"/edit"),href:"/pipelines/[pipeline]/backfills/[...slug]"},noHoverUnderline:!0,outline:!0,sameColorAsText:!0,children:"Edit backfill"}),(0,B.jsx)(O.Z,{mr:D.cd})]}),!de&&(0,B.jsxs)(Z.Z,{compact:!0,defaultColor:!0,onChange:function(e){e.preventDefault(),"all"===e.target.value?z.push("/pipelines/[pipeline]/backfills/[...slug]","/pipelines/".concat(ie,"/backfills/").concat(J)):(0,M.u7)({page:0,status:e.target.value})},paddingRight:4*D.iI,placeholder:"Select run status",value:(null===le||void 0===le?void 0:le.status)||"all",children:[(0,B.jsx)("option",{value:"all",children:"All statuses"},"all_statuses"),g.IK.map((function(e){return(0,B.jsx)("option",{value:e,children:g.Do[e]},e)}))]})]}),title:function(){return X},uuid:"backfill/detail",children:[(0,B.jsx)(O.Z,{mt:D.cd,px:D.cd,children:(0,B.jsx)(h.Z,{level:5,children:"Runs for this backfill"})}),(0,B.jsx)(f.Z,{light:!0,mt:D.cd,short:!0}),oe?me:(0,B.jsx)(O.Z,{m:2,children:(0,B.jsx)(y.Z,{inverted:!0})})]})})},W=t(2713),Y=t(47999),K=t(93461),J=t(82944),G=[{label:function(){return"Date and time window"},description:function(){return"Backfill between a date and time range."},uuid:d.VV}],q=t(18025);function X(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function Q(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?X(Object(t),!0).forEach((function(n){(0,l.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):X(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var $=function(e){var n=e.backfill,t=e.errors,i=e.fetchBackfill,l=e.pipeline,c=e.setErrors,a=(e.variables,(0,u.useRouter)()),v=(0,o.useState)(),j=v[0],g=v[1],x=j||{},y=x.block_uuid,I=x.id,S=x.interval_type,M=x.interval_units,F=(x.end_datetime,x.start_datetime,x.name),A=l.uuid,R=(0,o.useState)({}),H=R[0],V=(R[1],(0,o.useState)(y?d._7:d.VV)),z=V[0],X=V[1],$=(0,o.useState)(!1),ee=$[0],ne=$[1],te=(0,o.useState)(!1),re=te[0],ie=te[1],le=(0,o.useState)(null),ce=le[0],ae=le[1],oe=(0,o.useState)(null),se=oe[0],ue=oe[1],de=(0,o.useState)({hour:"00",minute:"00"}),pe=de[0],fe=de[1],be=(0,o.useState)({hour:"00",minute:"00"}),he=be[0],ve=be[1];(0,o.useEffect)((function(){if(n){g(n);var e=n.start_datetime;if(e){var t=e.split(" ")[1];ue((0,N.eI)(e)),ve({hour:t.substring(0,2),minute:t.substring(3,5)})}var r=n.end_datetime;if(r){var i=r.split(" ")[1];ae((0,N.eI)(r)),fe({hour:i.substring(0,2),minute:i.substring(3,5)})}}}),[n]);var me=(0,o.useMemo)((function(){var e=[[(0,B.jsxs)(b.Z,{alignItems:"center",children:[(0,B.jsx)(w.KJ,{default:!0,size:1.5*D.iI}),(0,B.jsx)(O.Z,{mr:1}),(0,B.jsx)(P.ZP,{default:!0,children:"Backfill name"})]},"model_name_detail"),(0,B.jsx)(J.Z,{monospace:!0,onChange:function(e){e.preventDefault(),g((function(n){return Q(Q({},n),{},{name:e.target.value})}))},placeholder:"Name this backfill",value:F},"model_name_input_detail")]];return d.VV===z&&e.push.apply(e,[[(0,B.jsxs)(b.Z,{alignItems:"center",children:[(0,B.jsx)(w.aw,{default:!0,size:1.5*D.iI}),(0,B.jsx)(O.Z,{mr:1}),(0,B.jsx)(P.ZP,{default:!0,children:"Start date and time"})]},"start_time"),(0,B.jsxs)("div",{style:{minHeight:"".concat(5.75*D.iI,"px")},children:[!ee&&(0,B.jsx)(J.Z,{monospace:!0,onClick:function(){return ne((function(e){return!e}))},onFocus:function(){return ne(!0)},placeholder:"YYYY-MM-DD HH:MM",value:se?"".concat(se.toISOString().split("T")[0]," ").concat(null===he||void 0===he?void 0:he.hour,":").concat(null===he||void 0===he?void 0:he.minute):""}),(0,B.jsx)("div",{style:{width:"400px"},children:(0,B.jsx)(Y.Z,{disableEscape:!0,onClickOutside:function(){return ne(!1)},open:ee,style:{position:"relative"},children:(0,B.jsx)(W.Z,{selectedDate:se,selectedTime:he,setSelectedDate:ue,setSelectedTime:ve,topPosition:!0})})})]},"start_time_input")],[(0,B.jsxs)(b.Z,{alignItems:"center",children:[(0,B.jsx)(w.aw,{default:!0,size:1.5*D.iI}),(0,B.jsx)(O.Z,{mr:1}),(0,B.jsx)(P.ZP,{default:!0,children:"End date and time"})]},"end_time"),(0,B.jsxs)("div",{style:{minHeight:"".concat(5.75*D.iI,"px")},children:[!re&&(0,B.jsx)(J.Z,{monospace:!0,onClick:function(){return ie((function(e){return!e}))},onFocus:function(){return ie(!0)},placeholder:"YYYY-MM-DD HH:MM",value:ce?"".concat(ce.toISOString().split("T")[0]," ").concat(null===pe||void 0===pe?void 0:pe.hour,":").concat(null===pe||void 0===pe?void 0:pe.minute):""}),(0,B.jsx)("div",{style:{width:"400px"},children:(0,B.jsx)(Y.Z,{disableEscape:!0,onClickOutside:function(){return ie(!1)},open:re,style:{position:"relative"},children:(0,B.jsx)(W.Z,{selectedDate:ce,selectedTime:pe,setSelectedDate:ae,setSelectedTime:fe,topPosition:!0})})})]},"end_time_input")],[(0,B.jsxs)(b.Z,{alignItems:"center",children:[(0,B.jsx)(w.Pf,{default:!0,size:1.5*D.iI}),(0,B.jsx)(O.Z,{mr:1}),(0,B.jsx)(P.ZP,{default:!0,children:"Interval type"})]},"interval_type"),(0,B.jsx)(Z.Z,{monospace:!0,onChange:function(e){e.preventDefault(),g((function(n){return Q(Q({},n),{},{interval_type:e.target.value})}))},placeholder:"Time spacing between each backfill",value:S,children:d.IB.map((function(e){return(0,B.jsx)("option",{value:e,children:(0,C.kC)(e)},e)}))},"interval_type_input")],[(0,B.jsxs)(b.Z,{alignItems:"center",children:[(0,B.jsx)(w.Pf,{default:!0,size:1.5*D.iI}),(0,B.jsx)(O.Z,{mr:1}),(0,B.jsx)(P.ZP,{default:!0,children:"Interval units"})]},"interval_units"),(0,B.jsx)(J.Z,{disabled:!S,monospace:!0,onChange:function(e){e.preventDefault(),g((function(n){return Q(Q({},n),{},{interval_units:e.target.value})}))},placeholder:S?"Number of ".concat(S).concat(S!==d.I7.CUSTOM?"s":""," between each backfill"):"Interval type is required",type:"number",value:M},"interval_unit_input")]]),(0,B.jsxs)(B.Fragment,{children:[(0,B.jsx)(O.Z,{mb:2,px:D.cd,children:(0,B.jsx)(h.Z,{children:"Settings"})}),(0,B.jsx)(f.Z,{light:!0,short:!0}),(0,B.jsx)(k.Z,{columnFlex:[null,1],rows:e})]})}),[ce,se,S,M,F,z,ee,re,pe,he]),je=(0,s.Db)(_.ZP.backfills.useUpdate(I),{onSuccess:function(e){return(0,U.wD)(e,{callback:function(){i(),a.push("/pipelines/[pipeline]/backfills/[...slug]","/pipelines/".concat(A,"/backfills/").concat(I))},onErrorCallback:function(e,n){return c({errors:n,response:e})}})}}),ge=(0,r.Z)(je,2),xe=ge[0],Ze=ge[1].isLoading,Oe=(0,o.useCallback)((function(){var e=Q(Q({},(0,L.GL)(j,["name"])),{},{end_datetime:null,interval_type:null,interval_units:null,start_datetime:null,variables:(0,T.e7)(H)});return d._7===z||(e.interval_type=S,e.interval_units=M,e.end_datetime=ce&&null!==pe&&void 0!==pe&&pe.hour&&null!==pe&&void 0!==pe&&pe.minute?"".concat(ce.toISOString().split("T")[0]," ").concat(null===pe||void 0===pe?void 0:pe.hour,":").concat(null===pe||void 0===pe?void 0:pe.minute,":00"):null,e.start_datetime=se&&null!==he&&void 0!==he&&he.hour&&null!==he&&void 0!==he&&he.minute?"".concat(se.toISOString().split("T")[0]," ").concat(null===he||void 0===he?void 0:he.hour,":").concat(null===he||void 0===he?void 0:he.minute,":00"):null),xe({backfill:e})}),[ce,se,S,M,j,H,z,pe,he]),ye=(0,o.useMemo)((function(){return d._7===z?!y:!(ce&&se&&S&&M)}),[y,ce,se,S,M,z,pe,he]);return(0,B.jsxs)(m.Z,{breadcrumbs:[{label:function(){return"Backfills"},linkProps:{as:"/pipelines/".concat(A,"/backfills"),href:"/pipelines/[pipeline]/backfills"}},{label:function(){return null===j||void 0===j?void 0:j.name},linkProps:{as:"/pipelines/".concat(A,"/backfills/").concat(I),href:"/pipelines/[pipeline]/backfills/[...slug]"}}],errors:t,pageName:E.M.BACKFILLS,pipeline:l,setErrors:c,subheader:(0,B.jsxs)(b.Z,{alignItems:"center",children:[(0,B.jsx)(p.Z,{disabled:ye,loading:Ze,onClick:Oe,outline:!0,primary:!0,children:"Save changes"}),(0,B.jsx)(O.Z,{mr:1}),(0,B.jsx)(p.Z,{linkProps:{href:"/pipelines/[pipeline]/backfills/[...slug]",as:"/pipelines/".concat(A,"/backfills/").concat(I)},noHoverUnderline:!0,outline:!0,sameColorAsText:!0,children:"Cancel"})]}),title:function(){return"Edit ".concat(null===j||void 0===j?void 0:j.name)},uuid:"backfill/edit",children:[(0,B.jsxs)(O.Z,{p:D.cd,children:[(0,B.jsxs)(O.Z,{mb:2,children:[(0,B.jsx)(h.Z,{children:"Backfill type"}),(0,B.jsx)(P.ZP,{muted:!0,children:"How would you like this pipeline to be backfilled?"})]}),(0,B.jsx)(b.Z,{children:G.map((function(e){var n=e.label,t=e.description,r=e.uuid,i=z===r,l=z&&!i;return(0,B.jsx)(p.Z,{noBackground:!0,noBorder:!0,noPadding:!0,onClick:function(){X(r)},children:(0,B.jsx)(q.U,{selected:i,children:(0,B.jsxs)(b.Z,{alignItems:"center",children:[(0,B.jsx)(K.Z,{children:(0,B.jsx)("input",{checked:i,type:"radio"})}),(0,B.jsx)(O.Z,{mr:D.cd}),(0,B.jsxs)(K.Z,{alignItems:"flex-start",flexDirection:"column",children:[(0,B.jsx)(h.Z,{bold:!0,default:!i&&!l,level:5,muted:!i&&l,children:n()}),(0,B.jsx)(P.ZP,{default:!i&&!l,leftAligned:!0,muted:l,children:t()})]})]})})},r)}))})]}),(0,B.jsx)(O.Z,{mt:5,children:me})]})},ee=t(41788);function ne(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function te(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?ne(Object(t),!0).forEach((function(n){(0,l.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ne(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function re(e){var n=e.backfillId,t=e.pipelineUUID,r=e.subpath,i=(0,o.useState)(null),l=i[0],c=i[1],a=_.ZP.variables.pipelines.list(t,{},{revalidateOnFocus:!1}).data,s=(0,o.useMemo)((function(){return null===a||void 0===a?void 0:a.variables}),[a]),u=_.ZP.pipelines.detail(t,{includes_content:!1,includes_outputs:!1},{revalidateOnFocus:!1}).data,d=(0,o.useMemo)((function(){return te(te({},null===u||void 0===u?void 0:u.pipeline),{},{uuid:t})}),[u,t]),p=_.ZP.backfills.detail(n,{include_preview_runs:!0}),f=p.data,b=p.mutate,h=(0,o.useMemo)((function(){return null===f||void 0===f?void 0:f.backfill}),[f]);return"edit"===r?(0,B.jsx)($,{backfill:h,errors:l,fetchBackfill:b,pipeline:d,setErrors:c,variables:s}):(0,B.jsx)(z,{backfill:h,errors:l,fetchBackfill:b,pipeline:d,setErrors:c,variables:s})}re.getInitialProps=function(){var e=(0,i.Z)(a().mark((function e(n){var t,i,l,c,o,s;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=n.query,i=t.pipeline,l=t.slug,!Array.isArray(l)){e.next=4;break}return c=(0,r.Z)(l,2),o=c[0],s=c[1],e.abrupt("return",{backfillId:o,pipelineUUID:i,subpath:s});case 4:return e.abrupt("return",{pipelineUUID:i});case 5:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}();var ie=(0,ee.Z)(re)},53664:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/pipelines/[pipeline]/backfills/[...slug]",function(){return t(12625)}])}},function(e){e.O(0,[844,9902,426,1774,9350,4495,1424,1005,7815,2437,8952,6566,9774,2888,179],(function(){return n=53664,e(e.s=n);var n}));var n=e.O();_N_E=n}]);