(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8170],{17717:function(e,n,t){var r=t(554);!function(){"use strict";var n={977:function(e){function n(e){if("string"!==typeof e)throw new TypeError("Path must be a string. Received "+JSON.stringify(e))}function t(e,n){for(var t,r="",i=0,o=-1,u=0,c=0;c<=e.length;++c){if(c<e.length)t=e.charCodeAt(c);else{if(47===t)break;t=47}if(47===t){if(o===c-1||1===u);else if(o!==c-1&&2===u){if(r.length<2||2!==i||46!==r.charCodeAt(r.length-1)||46!==r.charCodeAt(r.length-2))if(r.length>2){var l=r.lastIndexOf("/");if(l!==r.length-1){-1===l?(r="",i=0):i=(r=r.slice(0,l)).length-1-r.lastIndexOf("/"),o=c,u=0;continue}}else if(2===r.length||1===r.length){r="",i=0,o=c,u=0;continue}n&&(r.length>0?r+="/..":r="..",i=2)}else r.length>0?r+="/"+e.slice(o+1,c):r=e.slice(o+1,c),i=c-o-1;o=c,u=0}else 46===t&&-1!==u?++u:u=-1}return r}var i={resolve:function(){for(var e,i="",o=!1,u=arguments.length-1;u>=-1&&!o;u--){var c;u>=0?c=arguments[u]:(void 0===e&&(e=r.cwd()),c=e),n(c),0!==c.length&&(i=c+"/"+i,o=47===c.charCodeAt(0))}return i=t(i,!o),o?i.length>0?"/"+i:"/":i.length>0?i:"."},normalize:function(e){if(n(e),0===e.length)return".";var r=47===e.charCodeAt(0),i=47===e.charCodeAt(e.length-1);return 0!==(e=t(e,!r)).length||r||(e="."),e.length>0&&i&&(e+="/"),r?"/"+e:e},isAbsolute:function(e){return n(e),e.length>0&&47===e.charCodeAt(0)},join:function(){if(0===arguments.length)return".";for(var e,t=0;t<arguments.length;++t){var r=arguments[t];n(r),r.length>0&&(void 0===e?e=r:e+="/"+r)}return void 0===e?".":i.normalize(e)},relative:function(e,t){if(n(e),n(t),e===t)return"";if((e=i.resolve(e))===(t=i.resolve(t)))return"";for(var r=1;r<e.length&&47===e.charCodeAt(r);++r);for(var o=e.length,u=o-r,c=1;c<t.length&&47===t.charCodeAt(c);++c);for(var l=t.length-c,a=u<l?u:l,s=-1,d=0;d<=a;++d){if(d===a){if(l>a){if(47===t.charCodeAt(c+d))return t.slice(c+d+1);if(0===d)return t.slice(c+d)}else u>a&&(47===e.charCodeAt(r+d)?s=d:0===d&&(s=0));break}var f=e.charCodeAt(r+d);if(f!==t.charCodeAt(c+d))break;47===f&&(s=d)}var p="";for(d=r+s+1;d<=o;++d)d!==o&&47!==e.charCodeAt(d)||(0===p.length?p+="..":p+="/..");return p.length>0?p+t.slice(c+s):(c+=s,47===t.charCodeAt(c)&&++c,t.slice(c))},_makeLong:function(e){return e},dirname:function(e){if(n(e),0===e.length)return".";for(var t=e.charCodeAt(0),r=47===t,i=-1,o=!0,u=e.length-1;u>=1;--u)if(47===(t=e.charCodeAt(u))){if(!o){i=u;break}}else o=!1;return-1===i?r?"/":".":r&&1===i?"//":e.slice(0,i)},basename:function(e,t){if(void 0!==t&&"string"!==typeof t)throw new TypeError('"ext" argument must be a string');n(e);var r,i=0,o=-1,u=!0;if(void 0!==t&&t.length>0&&t.length<=e.length){if(t.length===e.length&&t===e)return"";var c=t.length-1,l=-1;for(r=e.length-1;r>=0;--r){var a=e.charCodeAt(r);if(47===a){if(!u){i=r+1;break}}else-1===l&&(u=!1,l=r+1),c>=0&&(a===t.charCodeAt(c)?-1===--c&&(o=r):(c=-1,o=l))}return i===o?o=l:-1===o&&(o=e.length),e.slice(i,o)}for(r=e.length-1;r>=0;--r)if(47===e.charCodeAt(r)){if(!u){i=r+1;break}}else-1===o&&(u=!1,o=r+1);return-1===o?"":e.slice(i,o)},extname:function(e){n(e);for(var t=-1,r=0,i=-1,o=!0,u=0,c=e.length-1;c>=0;--c){var l=e.charCodeAt(c);if(47!==l)-1===i&&(o=!1,i=c+1),46===l?-1===t?t=c:1!==u&&(u=1):-1!==t&&(u=-1);else if(!o){r=c+1;break}}return-1===t||-1===i||0===u||1===u&&t===i-1&&t===r+1?"":e.slice(t,i)},format:function(e){if(null===e||"object"!==typeof e)throw new TypeError('The "pathObject" argument must be of type Object. Received type '+typeof e);return function(e,n){var t=n.dir||n.root,r=n.base||(n.name||"")+(n.ext||"");return t?t===n.root?t+r:t+e+r:r}("/",e)},parse:function(e){n(e);var t={root:"",dir:"",base:"",ext:"",name:""};if(0===e.length)return t;var r,i=e.charCodeAt(0),o=47===i;o?(t.root="/",r=1):r=0;for(var u=-1,c=0,l=-1,a=!0,s=e.length-1,d=0;s>=r;--s)if(47!==(i=e.charCodeAt(s)))-1===l&&(a=!1,l=s+1),46===i?-1===u?u=s:1!==d&&(d=1):-1!==u&&(d=-1);else if(!a){c=s+1;break}return-1===u||-1===l||0===d||1===d&&u===l-1&&u===c+1?-1!==l&&(t.base=t.name=0===c&&o?e.slice(1,l):e.slice(c,l)):(0===c&&o?(t.name=e.slice(1,u),t.base=e.slice(1,l)):(t.name=e.slice(c,u),t.base=e.slice(c,l)),t.ext=e.slice(u,l)),c>0?t.dir=e.slice(0,c-1):o&&(t.dir="/"),t},sep:"/",delimiter:":",win32:null,posix:null};i.posix=i,e.exports=i}},t={};function i(e){var r=t[e];if(void 0!==r)return r.exports;var o=t[e]={exports:{}},u=!0;try{n[e](o,o.exports,i),u=!1}finally{u&&delete t[e]}return o.exports}i.ab="//";var o=i(977);e.exports=o}()},1210:function(e,n,t){"use strict";t.d(n,{Z:function(){return Z}});var r=t(82394),i=t(21831),o=t(82684),u=t(47999),c=t(49894),l=t(93461),a=t(57384),s=t(41424),d=t(72454),f=t(28598);function p(e,n){var t=e.children;return(0,f.jsx)(d.HS,{ref:n,children:t})}var v=o.forwardRef(p),h=t(32063),g=t(85019),b=t(82531),m=t(66166),y=t(3055),j=t(49125),x=t(91427),O=t(24141);function k(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function w(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?k(Object(t),!0).forEach((function(n){(0,r.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):k(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var Z=function(e){var n,t=e.after,r=e.afterHidden,p=e.afterWidth,k=e.afterWidthOverride,Z=e.before,C=e.beforeWidth,_=e.breadcrumbs,P=e.children,E=e.errors,S=e.headerMenuItems,I=e.headerOffset,A=e.mainContainerHeader,M=e.navigationItems,D=e.setErrors,N=e.subheaderChildren,R=e.title,T=e.uuid,H=(0,O.i)().width,B="dashboard_after_width_".concat(T),W="dashboard_before_width_".concat(T),F=(0,o.useRef)(null),L=(0,o.useState)(k?p:(0,x.U2)(B,p)),U=L[0],G=L[1],z=(0,o.useState)(!1),K=z[0],Y=z[1],q=(0,o.useState)(Z?Math.max((0,x.U2)(W,C),13*j.iI):null),Q=q[0],X=q[1],J=(0,o.useState)(!1),V=J[0],$=J[1],ee=(0,o.useState)(null)[1],ne=b.ZP.projects.list({},{revalidateOnFocus:!1}).data,te=null===ne||void 0===ne?void 0:ne.projects,re=[];_?re.push.apply(re,(0,i.Z)(_)):(null===te||void 0===te?void 0:te.length)>=1&&re.push.apply(re,[{label:function(){var e;return null===(e=te[0])||void 0===e?void 0:e.name},linkProps:{href:"/"}},{bold:!0,label:function(){return R}}]),(0,o.useEffect)((function(){null===F||void 0===F||!F.current||K||V||null===ee||void 0===ee||ee(F.current.getBoundingClientRect().width)}),[K,U,V,Q,F,ee,H]),(0,o.useEffect)((function(){K||(0,x.t8)(B,U)}),[r,K,U,B]),(0,o.useEffect)((function(){V||(0,x.t8)(W,Q)}),[V,Q,W]);var ie=(0,m.Z)(p);return(0,o.useEffect)((function(){k&&ie!==p&&G(p)}),[k,p,ie]),(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(a.Z,{title:R}),(0,f.jsx)(s.Z,{breadcrumbs:re,menuItems:S,project:null===te||void 0===te?void 0:te[0],version:null===te||void 0===te||null===(n=te[0])||void 0===n?void 0:n.version}),(0,f.jsxs)(d.Nk,{children:[0!==(null===M||void 0===M?void 0:M.length)&&(0,f.jsx)(d.lm,{showMore:!0,children:(0,f.jsx)(g.Z,{navigationItems:M,showMore:!0})}),(0,f.jsx)(l.Z,{flex:1,flexDirection:"column",children:(0,f.jsxs)(h.Z,{after:t,afterHeightOffset:y.Mz,afterHidden:r,afterMousedownActive:K,afterWidth:U,before:Z,beforeHeightOffset:y.Mz,beforeMousedownActive:V,beforeWidth:d.k1+(Z?Q:0),headerOffset:I,hideAfterCompletely:!0,leftOffset:Z?d.k1:null,mainContainerHeader:A,mainContainerRef:F,setAfterMousedownActive:Y,setAfterWidth:G,setBeforeMousedownActive:$,setBeforeWidth:X,children:[N&&(0,f.jsx)(v,{children:N}),P]})})]}),E&&(0,f.jsx)(u.Z,{disableClickOutside:!0,isOpen:!0,onClickOutside:function(){return null===D||void 0===D?void 0:D(null)},children:(0,f.jsx)(c.Z,w(w({},E),{},{onClose:function(){return null===D||void 0===D?void 0:D(null)}}))})]})}},60547:function(e,n,t){"use strict";t.d(n,{Z:function(){return _}});var r=t(82394),i=t(21831),o=t(82684),u=t(34376),c=t(47999),l=t(1210),a=t(34744),s=t(49894),d=t(67971),f=t(87372),p=t(86673),v=t(82531),h=t(38626),g=t(23831),b=t(73942),m=t(49125),y=h.default.div.withConfig({displayName:"indexstyle__BannerStyle",componentId:"sc-1te3pmf-0"})(["border-radius:","px;padding:","px;"," "," ",""],b.n_,3*m.iI,(function(e){return"\n    box-shadow: ".concat((e.theme.shadow||g.Z.shadow).small,";\n  ")}),(function(e){return e.background&&"\n    background: ".concat(e.background,";\n  ")}),(function(e){return e.backgroundImage&&'\n    background-image: url("'.concat(e.backgroundImage,'");\n    background-position: center;\n    background-repeat: no-repeat;\n    background-size: cover;\n  ')})),j=t(3055),x=t(36405),O=t(96510),k=t(24141),w=t(28598);function Z(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function C(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?Z(Object(t),!0).forEach((function(n){(0,r.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Z(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var _=function(e){var n=e.after,t=e.afterHidden,r=e.afterWidth,h=e.before,g=e.beforeWidth,b=e.breadcrumbs,Z=e.buildSidekick,_=e.children,P=e.errors,E=e.headline,S=e.pageName,I=e.pipeline,A=e.setErrors,M=e.subheader,D=e.subheaderBackground,N=e.subheaderBackgroundImage,R=e.subheaderButton,T=e.subheaderText,H=e.title,B=e.uuid,W=(0,k.i)().height,F=(0,u.useRouter)().query.pipeline,L=I.uuid,U=v.ZP.pipelines.detail(L,{includes_outputs:!1},{revalidateOnFocus:!1}).data,G=null===U||void 0===U?void 0:U.pipeline;(0,o.useEffect)((function(){(0,O.bB)(U,A)}),[U,A]);var z=(0,o.useMemo)((function(){return n||(Z?Z({height:W,heightOffset:j.Mz,pipeline:G}):null)}),[n,Z,W,G]),K=r||(z?50*m.iI:null),Y=(0,o.useMemo)((function(){var e=[];return G?(e.push.apply(e,[{label:function(){return"Pipelines"},linkProps:{href:"/pipelines"}}]),b?(e.push({label:function(){return G.uuid},linkProps:{as:"/pipelines/".concat(L,"/triggers"),href:"/pipelines/[pipeline]/triggers"}}),e.push.apply(e,(0,i.Z)(b)),e[e.length-1].bold=!0):e.push({bold:!0,label:function(){return G.name}})):null!==U&&void 0!==U&&U.error&&e.push({bold:!0,danger:!0,label:function(){return"Error loading pipeline"}}),e}),[b,null===U||void 0===U?void 0:U.error,G,L]);return(0,w.jsxs)(w.Fragment,{children:[(0,w.jsxs)(l.Z,{after:z,afterHidden:t,afterWidth:K,before:h,beforeWidth:g,breadcrumbs:Y,navigationItems:(0,x.H)(S,G,F),subheaderChildren:"undefined"!==typeof M&&M,title:G?H?H(G):G.name:null,uuid:B,children:[(R||T)&&(0,w.jsx)(p.Z,{mb:m.Mq,mt:m.cd,mx:m.cd,children:(0,w.jsx)(y,{background:D,backgroundImage:N,children:(0,w.jsxs)(d.Z,{alignItems:"center",children:[R,T&&(0,w.jsx)(p.Z,{ml:3}),T]})})}),E&&(0,w.jsx)(p.Z,{p:m.cd,children:(0,w.jsxs)(p.Z,{mt:m.cd,px:m.cd,children:[(0,w.jsx)(f.Z,{level:5,children:E}),(0,w.jsx)(a.Z,{light:!0,mt:m.cd,short:!0})]})}),_]}),P&&(0,w.jsx)(c.Z,{disableClickOutside:!0,isOpen:!0,onClickOutside:function(){return null===A||void 0===A?void 0:A(null)},children:(0,w.jsx)(s.Z,C(C({},P),{},{onClose:function(){return null===A||void 0===A?void 0:A(null)}}))})]})}},55264:function(e,n,t){"use strict";var r=t(82684),i=t(79891),o=t(67971),u=t(19711),c=t(24224),l=t(28598);n.Z=function(e){var n=e.onClickTag,t=e.tags,a=void 0===t?[]:t,s=(0,r.useMemo)((function(){return(null===a||void 0===a?void 0:a.length)||0}),[a]),d=(0,r.useMemo)((function(){return(0,c.YC)(a||[],"uuid")}),[a]);return(0,l.jsx)(o.Z,{alignItems:"center",flexWrap:"wrap",children:null===d||void 0===d?void 0:d.reduce((function(e,t){return e.push((0,l.jsx)("div",{style:{marginBottom:2,marginRight:s>=2?4:0,marginTop:2},children:(0,l.jsx)(i.Z,{onClick:n?function(){return n(t)}:null,small:!0,children:(0,l.jsx)(u.ZP,{children:t.uuid})})},"tag-".concat(t.uuid))),e}),[])})}},18221:function(e,n,t){"use strict";var r;t.d(n,{R:function(){return i}}),function(e){e.AZURE_CONTAINER_INSTANCE="azure_container_instance",e.ECS="ecs",e.GCP_CLOUD_RUN="gcp_cloud_run",e.K8S="k8s",e.LOCAL_PYTHON="local_python",e.PYSPARK="pyspark"}(r||(r={}));var i=[r.AZURE_CONTAINER_INSTANCE,r.ECS,r.GCP_CLOUD_RUN,r.K8S,r.LOCAL_PYTHON,r.PYSPARK]},79891:function(e,n,t){"use strict";var r=t(38626),i=t(60328),o=t(67971),u=t(86673),c=t(19711),l=t(23831),a=t(10503),s=t(49125),d=t(31012),f=t(28598),p=r.default.div.withConfig({displayName:"Chip__ChipStyle",componentId:"sc-1ok73g-0"})(["display:inline-block;"," "," "," "," ",""],(function(e){return!e.primary&&"\n    background-color: ".concat((e.theme.background||l.Z.background).tag,";\n  ")}),(function(e){return e.primary&&"\n    background-color: ".concat((e.theme.chart||l.Z.chart).primary,";\n  ")}),(function(e){return!e.small&&"\n    border-radius: ".concat((s.iI+d.Al)/2,"px;\n    height: ").concat(1.5*s.iI+d.Al,"px;\n    padding: ").concat(s.iI/1.5,"px ").concat(1.25*s.iI,"px;\n  ")}),(function(e){return e.small&&"\n    border-radius: ".concat((s.iI/2+d.Al)/2,"px;\n    height: ").concat(d.Al+s.iI/2+2,"px;\n    padding: ").concat(s.iI/4,"px ").concat(s.iI,"px;\n  ")}),(function(e){return e.border&&"\n    border: 1px solid ".concat((e.theme.content||l.Z.content).muted,";\n  ")}));n.Z=function(e){var n=e.border,t=e.children,r=e.disabled,l=e.label,d=e.onClick,v=e.primary,h=e.small;return(0,f.jsx)(p,{border:n,primary:v,small:h,children:(0,f.jsx)(i.Z,{basic:!0,disabled:r,noBackground:!0,noPadding:!0,onClick:d,transparent:!0,children:(0,f.jsxs)(o.Z,{alignItems:"center",children:[t,l&&(0,f.jsx)(c.ZP,{small:h,children:l}),!r&&d&&(0,f.jsx)(u.Z,{ml:1,children:(0,f.jsx)(a.x8,{default:v,muted:!v,size:h?s.iI:1.25*s.iI})})]})})})}},9031:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return re}});var r=t(77837),i=t(75582),o=t(82394),u=t(38860),c=t.n(u),l=t(82684),a=t(60547),s=t(41788),d=t(60328),f=t(38341),p=t(67971),v=t(87372),h=t(10919),g=t(55378),b=t(86673),m=t(21831),y=t(16115),j=t(41150),x=t(28598);function O(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function k(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?O(Object(t),!0).forEach((function(n){(0,o.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):O(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var w=function(e){var n=e.highlightedItemIndexInitial,t=void 0===n?null:n,r=e.itemGroups,i=e.noResultGroups,o=e.onHighlightItemIndexChange,u=e.onMouseEnterItem,c=e.onMouseLeaveItem,a=e.onSelectItem,s=e.renderEmptyState,d=e.searchQuery,f=e.selectedItem,p=e.setItemRefs,v=e.uuid,h=(0,l.useState)(!0),g=h[0],b=h[1],O=(0,l.useMemo)((function(){var e=[],n=r.reduce((function(n,t){var r=t.items.filter((function(e){return!d||function(e,n){return e.searchQueries.filter((function(e){return String(e).toLowerCase().includes(n.toLowerCase())})).length>=1}(e,d)}));return 0===r.length?n:(e.push.apply(e,(0,m.Z)(r)),n.concat(k(k({},t),{},{items:r})))}),[]);return{itemGroups:n,itemsFlattened:e}}),[r,d]),w=O.itemGroups,Z=O.itemsFlattened;i&&0===Z.length&&(w.push.apply(w,(0,m.Z)(i)),Z.push.apply(Z,(0,m.Z)(i.reduce((function(e,n){var t=n.items;return e.concat(t)}),[]))));var C=(0,l.useRef)(null);C.current=Z.map((function(){return(0,l.createRef)()}));var _=(0,l.useState)(t),P=_[0],E=_[1],S=(0,l.useCallback)((function(e){null===o||void 0===o||o(e),E(e)}),[o,E]),I=Z[P],A=(0,j.y)(),M=A.registerOnKeyDown,D=A.unregisterOnKeyDown;(0,l.useEffect)((function(){return function(){return D(v)}}),[D,v]),null===M||void 0===M||M(v,(function(e,n,t){var r,i=!0,o=Z.length,u=Z.findIndex((function(e,r){var i=e.keyboardShortcutValidation;return null===i||void 0===i?void 0:i({keyHistory:t,keyMapping:n},r)})),c=n[y.Gs]&&!n[y.XR]&&!f;return-1!==u?(e.preventDefault(),a(Z[u]),b(i),S(u)):(n[y.Uq]||c)&&Z[P]?(c&&e.preventDefault(),a(Z[P]),b(i),S(P)):(n[y.Bu]?(i=!1,r=null===P?o-1:P-1):n[y.kD]?(i=!1,r=null===P?0:P+1):n[y.vP]&&S(null),"undefined"!==typeof r&&(r>=o?r=0:r<=-1&&(r=o-1),r>=0&&r<=o-1?(S(r),e.preventDefault()):S(null)),void b(i))}),[P,Z,f,S,b]),(0,l.useEffect)((function(){null===p||void 0===p||p(C)}),[C,Z,p]),(0,l.useEffect)((function(){var e=null===P||"undefined"===typeof P||P>=Z.length;(null===d||void 0===d?void 0:d.length)>=1&&e&&S(0)}),[P,Z,d,S]);var N=(0,l.useCallback)((function(){return b(!0)}),[b]);return(0,l.useEffect)((function(){return window.addEventListener("mousemove",N),function(){window.removeEventListener("mousemove",N)}}),[N]),0===w.length&&s?s():(0,x.jsx)(x.Fragment,{children:w.map((function(e,n){var t=e.items,r=e.renderItem,i=e.renderGroupHeader,o=e.uuid,l=n>=1?w.slice(0,n).reduce((function(e,n){return e+n.items.length}),0):0,s=t.map((function(e,n){var t=e.itemObject,i=e.value,o=i===(null===I||void 0===I?void 0:I.value),s=n+l,d=(null===t||void 0===t?void 0:t.id)||(null===t||void 0===t?void 0:t.uuid);return(0,x.jsx)("div",{id:"item-".concat(i,"-").concat(d),onMouseMove:function(){return g&&S(s)},ref:C.current[s],children:r(e,{highlighted:o,onClick:function(){return a(e)},onMouseEnter:function(){return null===u||void 0===u?void 0:u(e)},onMouseLeave:function(){return null===c||void 0===c?void 0:c(e)}},n,s)},"item-".concat(i,"-").concat(d))}));return s.length>=1&&(0,x.jsxs)("div",{children:[null===i||void 0===i?void 0:i(),s]},o||"group-uuid-".concat(n))}))})},Z=t(79891),C=t(55264),_=t(19711),P=t(82944),E=t(38626),S=t(23831),I=t(73942),A=t(37391),M=t(49125),D=E.default.div.withConfig({displayName:"indexstyle__DropdownStyle",componentId:"sc-suwkha-0"})([""," border-radius:","px;max-height:","px;overflow:auto;position:absolute;width:100%;z-index:1;"," ",""],A.w5,I.BG,40*M.iI,(function(e){return"\n    background-color: ".concat((e.theme.background||S.Z.background).popup,";\n    box-shadow: ").concat((e.theme.shadow||S.Z.shadow).popup,";\n  ")}),(function(e){return e.topOffset&&"\n    top: ".concat(e.topOffset-.5*M.iI,"px;\n  ")})),N=E.default.div.withConfig({displayName:"indexstyle__RowStyle",componentId:"sc-suwkha-1"})(["padding:","px;position:relative;z-index:2;&:hover{cursor:pointer;}",""],.5*M.iI,(function(e){return e.highlighted&&"\n    background-color: ".concat((e.theme.interactive||S.Z.interactive).hoverBackground,";\n  ")})),R=t(66653),T=t(24224);function H(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function B(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?H(Object(t),!0).forEach((function(n){(0,o.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):H(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var W=function(e){var n,t=e.removeTag,r=e.selectTag,i=e.selectedTags,o=void 0===i?[]:i,u=e.tags,c=void 0===u?[]:u,a=e.uuid,s=(0,l.useRef)(null),d=(0,l.useState)(!1),f=d[0],p=d[1],v=(0,l.useState)(null),h=v[0],g=v[1],m=(0,l.useMemo)((function(){return(0,T.YC)(c||[],"uuid")}),[c]),O=(0,l.useMemo)((function(){return null===m||void 0===m?void 0:m.map((function(e){return{itemObject:e,searchQueries:[e.uuid],value:e.uuid}}))}),[m]),k=(0,l.useMemo)((function(){return(null===h||void 0===h?void 0:h.length)>=1?O.concat({itemObject:{uuid:h},searchQueries:[h],value:"Add tag: ".concat(h)}):O}),[O,h]),E=(0,j.y)(),S=E.registerOnKeyDown,I=E.unregisterOnKeyDown;return(0,l.useEffect)((function(){return function(){return I(a)}}),[I,a]),null===S||void 0===S||S(a,(function(e,n){var t;f&&n[y.vP]&&(p(!1),null===s||void 0===s||null===(t=s.current)||void 0===t||t.blur())}),[f,s]),(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)(C.Z,{onClickTag:t,tags:o}),(0,x.jsxs)(b.Z,{mt:1,style:{position:"relative"},children:[(0,x.jsx)(P.Z,{onBlur:function(){return setTimeout((function(){return p(!1)}),150)},onChange:function(e){return g(e.target.value)},onFocus:function(){return p(!0)},ref:s,value:h||""}),(0,x.jsx)(D,{topOffset:null===s||void 0===s||null===(n=s.current)||void 0===n?void 0:n.getBoundingClientRect().height,children:(0,x.jsx)(w,{itemGroups:[{items:f?k:[],renderItem:function(e,n){var t=e.value;return(0,x.jsx)(N,B(B({},n),{},{onClick:function(e){var t;(0,R.j)(e),null===n||void 0===n||null===(t=n.onClick)||void 0===t||t.call(n,e)},children:(0,x.jsx)(Z.Z,{small:!0,children:(0,x.jsx)(_.ZP,{children:t})})}))}}],onSelectItem:function(e){var n=e.itemObject;null===r||void 0===r||r(n),g(null)},searchQuery:h,uuid:a})})]})]})},F=t(82531),L=t(66166),U=t(18221),G=t(11366),z=t(91427),K=t(7715),Y=t(90211);function q(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function Q(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?q(Object(t),!0).forEach((function(n){(0,o.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):q(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var X=function(e){var n,t,r,i,u=e.isPipelineUpdating,c=e.pipeline,a=e.updatePipeline,s=(0,l.useRef)(null),m=(0,l.useRef)(null),y=null===c||void 0===c?void 0:c.uuid,j=(0,l.useMemo)((function(){return(null===c||void 0===c?void 0:c.blocks)||[]}),[c]),O=(0,l.useState)(!1),k=O[0],w=O[1],Z=(0,l.useState)(!1),C=Z[0],E=Z[1],S=(0,l.useState)(null),I=S[0],A=S[1],D=(0,L.Z)(c);(0,l.useEffect)((function(){(0,K.Xy)(c,D)||A(c)}),[c,D]);var N=(0,l.useCallback)((function(e){w(!0),A(e)}),[]),R="".concat(G.g6,"_").concat(y),H=(0,l.useState)({}),B=H[0],q=H[1],X="".concat(G.vF,"_").concat(y),J=(0,l.useState)(!1),V=J[0],$=J[1],ee=(0,l.useCallback)((function(e){q((function(n){var t=e(n);return(0,z.t8)(R,JSON.stringify(t)),t}))}),[R,q]),ne=(0,l.useCallback)((function(e){$((function(n){var t=e(n);return(0,z.t8)(X,t),t}))}),[X,$]);(0,l.useEffect)((function(){var e=(0,z.U2)(R);e&&(0,Y.Pb)(e)&&q(JSON.parse(e))}),[R,q]),(0,l.useEffect)((function(){var e=(0,z.U2)(X);e&&$(e)}),[X,$]);var te=(0,l.useMemo)((function(){return null===I||void 0===I?void 0:I.executor_type}),[I]);(0,l.useEffect)((function(){C||!te||U.R.find((function(e){return e===te}))||E(!0)}),[C,te]);var re=(0,l.useMemo)((function(){return(null===j||void 0===j?void 0:j.filter((function(e){var n=e.uuid;return!(null===B||void 0===B||!B[n])}))).length===j.length}),[j,B]),ie=(0,l.useMemo)((function(){return!(null!==j&&void 0!==j&&j.length)}),[j]),oe=(0,l.useMemo)((function(){return(null===I||void 0===I?void 0:I.tags)||[]}),[I]),ue=F.ZP.tags.list().data,ce=(0,l.useMemo)((function(){return((null===ue||void 0===ue?void 0:ue.tags)||[]).filter((function(e){var n=e.uuid;return!oe.includes(n)}))}),[ue,oe]);return(0,x.jsxs)(b.Z,{p:M.cd,children:[(0,x.jsx)(P.Z,{label:"Pipeline name",onChange:function(e){return N((function(n){return Q(Q({},n),{},{name:e.target.value})}))},primary:!0,required:!0,setContentOnMount:!0,value:(null===I||void 0===I?void 0:I.name)||""}),(0,x.jsxs)(b.Z,{mt:M.HN,children:[(0,x.jsx)(v.Z,{children:"Executor type"}),(0,x.jsxs)(_.ZP,{muted:!0,children:["For more information on this setting, please read the ",(0,x.jsx)(h.Z,{href:"https://docs.mage.ai/production/configuring-production-settings/compute-resource#2-set-executor-type-and-customize-the-compute-resource-of-the-mage-executor",openNewWindow:!0,children:"documentation"}),"."]}),(0,x.jsxs)(b.Z,{mt:1,children:[!C&&(0,x.jsx)(g.Z,{label:"Executor type",onChange:function(e){return N((function(n){return Q(Q({},n),{},{executor_type:e.target.value})}))},primary:!0,ref:s,value:(null===I||void 0===I?void 0:I.executor_type)||"",children:U.R.map((function(e){return(0,x.jsx)("option",{value:e,children:e},e)}))}),C&&(0,x.jsx)(P.Z,{label:"Executor type",monospace:!0,onChange:function(e){return N((function(n){return Q(Q({},n),{},{executor_type:e.target.value})}))},ref:m,setContentOnMount:!0,value:(null===I||void 0===I?void 0:I.executor_type)||""}),(0,x.jsx)(b.Z,{mt:1,children:(0,x.jsx)(h.Z,{muted:!0,onClick:function(){C?(N((function(e){return Q(Q({},e),{},{executor_type:null===c||void 0===c?void 0:c.executor_type})})),setTimeout((function(){var e;return null===s||void 0===s||null===(e=s.current)||void 0===e?void 0:e.focus()}),1)):setTimeout((function(){var e;return null===m||void 0===m||null===(e=m.current)||void 0===e?void 0:e.focus()}),1),E(!C)},preventDefault:!0,small:!0,children:C?"Select a preset executor type":"Enter a custom executor type"})})]})]}),(0,x.jsxs)(b.Z,{mt:M.HN,children:[(0,x.jsx)(v.Z,{children:"Retry configuration"}),(0,x.jsxs)(_.ZP,{muted:!0,children:["For more information on this setting, please read the ",(0,x.jsx)(h.Z,{href:"https://docs.mage.ai/orchestration/pipeline-runs/retrying-block-runs",openNewWindow:!0,children:"documentation"}),"."]}),(0,x.jsx)(b.Z,{mt:1,children:(0,x.jsxs)(p.Z,{children:[(0,x.jsx)(P.Z,{label:"Retries",monospace:!0,onChange:function(e){return N((function(n){return Q(Q({},n),{},{retry_config:Q(Q({},null===n||void 0===n?void 0:n.retry_config),{},{retries:"undefined"!==typeof e.target.value&&null!==e.target.value?Number(e.target.value):e.target.value})})}))},setContentOnMount:!0,type:"number",value:(null===I||void 0===I||null===(n=I.retry_config)||void 0===n?void 0:n.retries)||""}),(0,x.jsx)(b.Z,{mr:1}),(0,x.jsx)(P.Z,{label:"Delay",monospace:!0,onChange:function(e){return N((function(n){return Q(Q({},n),{},{retry_config:Q(Q({},null===n||void 0===n?void 0:n.retry_config),{},{delay:"undefined"!==typeof e.target.value&&null!==e.target.value?Number(e.target.value):e.target.value})})}))},setContentOnMount:!0,type:"number",value:(null===I||void 0===I||null===(t=I.retry_config)||void 0===t?void 0:t.delay)||""}),(0,x.jsx)(b.Z,{mr:1}),(0,x.jsx)(P.Z,{label:"Max delay",monospace:!0,onChange:function(e){return N((function(n){return Q(Q({},n),{},{retry_config:Q(Q({},null===n||void 0===n?void 0:n.retry_config),{},{max_delay:"undefined"!==typeof e.target.value&&null!==e.target.value?Number(e.target.value):e.target.value})})}))},setContentOnMount:!0,type:"number",value:(null===I||void 0===I||null===(r=I.retry_config)||void 0===r?void 0:r.max_delay)||""}),(0,x.jsx)(b.Z,{mr:1}),(0,x.jsx)(f.Z,{checked:!(null===I||void 0===I||null===(i=I.retry_config)||void 0===i||!i.exponential_backoff),label:"Exponential backoff",onClick:function(){return N((function(e){var n;return Q(Q({},e),{},{retry_config:Q(Q({},null===e||void 0===e?void 0:e.retry_config),{},{exponential_backoff:!(null!==e&&void 0!==e&&null!==(n=e.retry_config)&&void 0!==n&&n.exponential_backoff)})})}))}})]})})]}),(0,x.jsxs)(b.Z,{mt:M.HN,children:[(0,x.jsx)(v.Z,{children:"Tags"}),(0,x.jsx)(b.Z,{mt:1,children:(0,x.jsx)(W,{removeTag:function(e){N((function(n){return Q(Q({},n),{},{tags:oe.filter((function(n){return n!==e.uuid}))})}))},selectTag:function(e){N((function(n){return Q(Q({},n),{},{tags:(0,T.$C)(e.uuid,oe,(function(n){return n===e.uuid}))})}))},selectedTags:null===oe||void 0===oe?void 0:oe.map((function(e){return{uuid:e}})),tags:ce,uuid:"TagsAutocompleteInputField-".concat(null===c||void 0===c?void 0:c.uuid)})})]}),(0,x.jsx)(b.Z,{mt:M.HN,children:(0,x.jsx)(p.Z,{children:(0,x.jsx)(d.Z,{disabled:!k,loading:u,onClick:function(){return a({executor_type:null===I||void 0===I?void 0:I.executor_type,name:null===I||void 0===I?void 0:I.name,retry_config:null===I||void 0===I?void 0:I.retry_config,tags:null===I||void 0===I?void 0:I.tags}).then((function(){return w(!1)}))},primary:!0,children:"Save pipeline settings"})})}),(0,x.jsx)(b.Z,{mt:M.HN,children:(0,x.jsx)(f.Z,{checked:re&&!ie,disabled:ie,label:"Hide all blocks in notebook",onClick:function(){return ee((function(){return re?{}:null===j||void 0===j?void 0:j.reduce((function(e,n){var t=n.uuid;return Q(Q({},e),{},(0,o.Z)({},t,!0))}),{})}))}})}),(0,x.jsx)(b.Z,{mt:M.Mq,children:(0,x.jsx)(f.Z,{checked:V,label:"When running a block while editing a pipeline, output the block messages to the logs",onClick:function(){return ne((function(e){return!e}))}})})]})},J=t(59920),V=t(83455),$=t(96510);function ee(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function ne(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?ee(Object(t),!0).forEach((function(n){(0,o.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ee(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function te(e){var n=e.pipeline,t=(0,l.useState)(null),r=t[0],o=t[1],u=null===n||void 0===n?void 0:n.uuid,c=F.ZP.pipelines.detail(u).data,s=ne(ne({},null===c||void 0===c?void 0:c.pipeline),n),d=(0,V.Db)(F.ZP.pipelines.useUpdate(u,{update_content:!0}),{onSuccess:function(e){return(0,$.wD)(e,{callback:function(e){if(null!==e&&void 0!==e&&e.pipeline){var n=e.pipeline.uuid;u!==n&&(window.location.href="/pipelines/".concat(n,"/settings"))}},onErrorCallback:function(e,n){return o({errors:n,response:e})}})}}),f=(0,i.Z)(d,2),p=f[0],v=f[1].isLoading;return(0,x.jsx)(a.Z,{breadcrumbs:[{label:function(){return"Settings"}}],errors:r,pageName:J.M.SETTINGS,pipeline:s,setErrors:o,title:function(e){var n=e.name;return"".concat(n," settings")},uuid:"".concat(J.M.SETTINGS,"_").concat(u),children:s&&(0,x.jsx)(X,{isPipelineUpdating:v,pipeline:s,updatePipeline:function(e){return p({pipeline:e})}})})}te.getInitialProps=function(){var e=(0,r.Z)(c().mark((function e(n){var t;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.query.pipeline,e.abrupt("return",{pipeline:{uuid:t}});case 2:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}();var re=(0,s.Z)(te)},11366:function(e,n,t){"use strict";t.d(n,{H8:function(){return i},g6:function(){return o},kY:function(){return r},vF:function(){return u}});var r="automatically_name_blocks",i="pipeline_edit_before_tab_selected",o="pipeline_edit_hidden_blocks",u="pipeline_edit_block_output_logs"},59606:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/pipelines/[pipeline]/settings",function(){return t(9031)}])}},function(e){e.O(0,[844,9902,1424,1005,2437,9774,2888,179],(function(){return n=59606,e(e.s=n);var n}));var n=e.O();_N_E=n}]);