{"version":3,"file":"static/js/7196-legacy.a47a2493.js","mappings":"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","sources":["webpack://platypush/./src/components/panels/MusicSpotify/Index.vue","webpack://platypush/./src/components/panels/MusicSpotify/Index.vue?ccf9"],"sourcesContent":["<template>\n  <Loading v-if=\"loading\" />\n  <MusicPlugin plugin-name=\"music.spotify\" :loading=\"loading\" :config=\"config\" :tracks=\"tracks\" :status=\"status\"\n               :playlists=\"playlists\" :edited-playlist=\"editedPlaylist\" :edited-playlist-tracks=\"editedPlaylistTracks\"\n               :track-info=\"trackInfo\" :search-results=\"searchResults\" :library-results=\"libraryResults\" :path=\"path\"\n               :devices=\"devices\" :selected-device=\"selectedDevice\" :active-device=\"activeDevice\" @play=\"play\"\n               @pause=\"pause\" @stop=\"stop\" @previous=\"previous\" @next=\"next\" @clear=\"clear\" @set-volume=\"setVolume\"\n               @seek=\"seek\" @consume=\"consume\" @random=\"random\" @repeat=\"repeat\" @status-update=\"refreshStatus(true)\"\n               @new-playing-track=\"refreshStatus(true)\" @remove-from-tracklist=\"removeFromTracklist\"\n               @add-to-tracklist=\"addToTracklist\" @swap-tracks=\"swapTracks\" @load-playlist=\"loadPlaylist\"\n               @play-playlist=\"playPlaylist\" @remove-playlist=\"removePlaylist\" @tracklist-move=\"moveTracklistTracks\"\n               @tracklist-save=\"saveToPlaylist\" @playlist-edit=\"playlistEditChanged\" @refresh-status=\"refreshStatus\"\n               @add-to-tracklist-from-edited-playlist=\"addToTracklistFromEditedPlaylist\"\n               @remove-from-playlist=\"removeFromPlaylist\" @info=\"trackInfo = $event\" @playlist-add=\"playlistAdd\"\n               @add-to-playlist=\"addToPlaylist\" @playlist-track-move=\"playlistTrackMove\" @search=\"search\"\n               @search-clear=\"searchResults = []\" @cd=\"cd\" @playlist-update=\"refresh(true)\"\n               @select-device=\"selectDevice\" />\n</template>\n\n<script>\nimport MusicPlugin from \"@/components/panels/Music/Index\";\nimport Utils from \"@/Utils\";\nimport Loading from \"@/components/Loading\";\n\nexport default {\n  name: \"MusicSpotify\",\n  components: {Loading, MusicPlugin},\n  mixins: [Utils],\n  props: {\n    config: {\n      type: Object,\n      default: () => {},\n    },\n  },\n\n  data() {\n    return {\n      loading: false,\n      devices: {},\n      selectedDevice: null,\n      activeDevice: null,\n      tracks: [],\n      playlists: [],\n      status: {},\n      editedPlaylist: null,\n      editedPlaylistTracks: [],\n      trackInfo: null,\n      searchResults: [],\n      libraryResults: [],\n      path: '/',\n    }\n  },\n\n  methods: {\n    async refreshTracks(background) {\n      if (!background)\n        this.loading = true\n\n      try {\n        this.tracks = (await this.request('music.spotify.history')).map((track) => {\n          track.time = track.duration\n          return track\n        })\n      } finally {\n        this.loading = false\n      }\n    },\n\n    async refreshStatus(background) {\n      if (!background)\n        this.loading = true\n\n      this.devices = (await this.request('music.spotify.get_devices')).reduce((obj, device) => {\n        obj[device.id] = device\n        return obj\n      }, {})\n\n      const activeDevices = Object.values(this.devices).filter((device) => device.is_active)\n      this.activeDevice = activeDevices.length ? activeDevices[0].id : null\n      if (!this.selectedDevice && Object.values(this.devices).length)\n        this.selectedDevice = this.activeDevice || [...Object.values(this.devices)][0].id\n\n      try {\n        const status = await this.request('music.spotify.status')\n        this.status = {\n          ...status,\n          duration: status.time,\n        }\n      } finally {\n        this.loading = false\n      }\n\n      if (this.status.track) {\n        if (this.tracks?.[0]?.id !== this.status.track.id)\n          this.tracks = [{\n            ...this.status.track,\n            time: this.status.duration,\n          }, ...this.tracks]\n        this.status.playingPos = 0\n      }\n    },\n\n    async refreshPlaylists(background) {\n      if (!background)\n        this.loading = true\n\n      try {\n        this.playlists = (await this.request('music.spotify.get_playlists'))\n            .sort((a, b) => a.name.localeCompare(b.name))\n      } finally {\n        this.loading = false\n      }\n    },\n\n    async refresh(background) {\n      if (!background)\n        this.loading = true\n\n      try {\n        await Promise.all([\n          this.refreshTracks(background),\n          this.refreshStatus(background),\n          this.refreshPlaylists(background),\n        ])\n      } finally {\n        this.loading = false\n      }\n    },\n\n    async play(event) {\n      if (event?.pos != null)\n        event.uri = this.tracks[event.pos].uri\n\n      if (event?.uri) {\n        await this.request('music.spotify.play', {\n          resource: event.uri,\n          device: this.selectedDevice,\n        })\n      } else {\n        await this.request('music.spotify.play', {\n          device: this.selectedDevice,\n        })\n      }\n\n      await this.refreshStatus(true)\n    },\n\n    async pause() {\n      await this.request('music.spotify.pause', {\n        device: this.selectedDevice,\n      })\n      await this.refreshStatus(true)\n    },\n\n    async stop() {\n      await this.request('music.spotify.stop', {\n        device: this.selectedDevice,\n      })\n      await this.refreshStatus(true)\n    },\n\n    async previous() {\n      await this.request('music.spotify.previous', {\n        device: this.selectedDevice,\n      })\n      await this.refreshStatus(true)\n    },\n\n    async next() {\n      await this.request('music.spotify.next', {\n        device: this.selectedDevice,\n      })\n      await this.refreshStatus(true)\n    },\n\n    async clear() {},\n\n    async setVolume(volume) {\n      if (volume === this.status.volume)\n        return\n\n      await this.request('music.spotify.set_volume', {\n        device: this.selectedDevice,\n        volume: volume,\n      })\n      await this.refreshStatus(true)\n    },\n\n    async seek(pos) {\n      await this.request('music.spotify.seek', {\n        device: this.selectedDevice,\n        position: pos,\n      })\n      await this.refreshStatus(true)\n    },\n\n    async repeat() {\n      await this.request('music.spotify.repeat', {\n        device: this.selectedDevice,\n        value: !this.status?.repeat,\n      })\n      await this.refreshStatus(true)\n    },\n\n    async random() {\n      await this.request('music.spotify.random', {\n        device: this.selectedDevice,\n        value: !this.status?.random,\n      })\n      await this.refreshStatus(true)\n    },\n\n    async consume() {},\n\n    async addToTracklist(resource) {\n      if (resource.file)\n        resource = resource.file\n\n      await this.request('music.spotify.add', {\n        device: this.selectedDevice,\n        resource: resource,\n      })\n      await this.refresh(true)\n    },\n\n    async addToTracklistFromEditedPlaylist(event) {\n      const track = this.editedPlaylistTracks[event.pos]\n      if (!track)\n        return\n\n      const method = event.play ? 'play' : 'add'\n      await this.request(`music.spotify.${method}`, {\n        device: this.selectedDevice,\n        resource: track.uri\n      })\n      await this.refresh(true)\n    },\n\n    async removeFromPlaylist(positions) {\n      const tracks = positions.map((pos) => this.playlists[this.editedPlaylist].tracks[pos].uri)\n      await this.request('music.spotify.remove_from_playlist',\n          {resources: tracks, playlist: this.playlists[this.editedPlaylist].name})\n      await this.playlistEditChanged(this.editedPlaylist)\n    },\n\n    async removeFromTracklist() {},\n    async swapTracks() {},\n\n    async playPlaylist(position) {\n      await this._loadPlaylist(position, true)\n    },\n\n    async loadPlaylist(position) {\n      await this._loadPlaylist(position, false)\n    },\n\n    async _loadPlaylist(position) {\n      const playlist = this.playlists[position]\n      await this.request('music.spotify.play', {\n        resource: playlist.uri,\n        device: this.selectedDevice,\n      })\n      await this.refresh(true)\n    },\n\n    async removePlaylist() {\n      this.notify({\n        text: 'Playlist removal is not supported'\n      })\n    },\n\n    async saveToPlaylist() {},\n    async moveTracklistTracks() {},\n\n    async playlistAdd(track) {\n      await this.request('music.spotify.add_to_playlist', {\n        resources: [track],\n        playlist: this.playlists[this.editedPlaylist].uri\n      })\n\n      await this.playlistEditChanged(this.editedPlaylist)\n    },\n\n    async playlistEditChanged(playlist) {\n      this.editedPlaylist = playlist\n      if (playlist == null)\n        return\n\n      this.loading = true\n      try {\n        const list = await this.request('music.spotify.get_playlist', {\n          playlist: this.playlists[playlist].uri\n        })\n\n        this.editedPlaylistTracks = list.tracks.map((track) => {\n          track.time = track.duration\n          return track\n        })\n      } finally {\n        this.loading = false\n      }\n    },\n\n    async addToPlaylist(event) {\n      await Promise.all(event.playlists.map(async (playlistIdx) => {\n        await this.request('music.spotify.add_to_playlist', {\n          resources: [event.track.uri],\n          playlist: this.playlists[playlistIdx].uri\n        })\n\n        await this.playlistEditChanged(playlistIdx)\n      }))\n    },\n\n    async playlistTrackMove(event) {\n      await this.request('music.spotify.playlist_move', {\n        playlist: this.playlists[event.playlist].uri,\n        from_pos: event.from-1,\n        to_pos: event.to-1,\n      })\n\n      await this.playlistEditChanged(event.playlist)\n    },\n\n    async search(query) {\n      this.loading = true\n\n      try {\n        this.searchResults = (await this.request('music.spotify.search', query)).map((item) => {\n          item.time = item.duration\n          return item\n        })\n      } finally {\n        this.loading = false\n      }\n    },\n\n    async cd() {},\n\n    async selectDevice(deviceId) {\n      if (this.selectedDevice === deviceId)\n        return\n\n      await this.request('music.spotify.start_or_transfer_playback', {\n        device: deviceId,\n      })\n\n      this.selectedDevice = deviceId\n      this.refreshStatus(true)\n    },\n  },\n\n  mounted() {\n    this.refresh()\n  },\n}\n</script>\n","import { render } from \"./Index.vue?vue&type=template&id=034e04ce\"\nimport script from \"./Index.vue?vue&type=script&lang=js\"\nexport * from \"./Index.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"/home/blacklight/git_tree/platypush/platypush/backend/http/webapp/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["loading","config","tracks","status","playlists","editedPlaylist","editedPlaylistTracks","trackInfo","searchResults","libraryResults","path","devices","selectedDevice","activeDevice","play","pause","stop","previous","next","clear","setVolume","seek","consume","random","repeat","refreshStatus","removeFromTracklist","addToTracklist","swapTracks","loadPlaylist","playPlaylist","removePlaylist","moveTracklistTracks","saveToPlaylist","playlistEditChanged","addToTracklistFromEditedPlaylist","removeFromPlaylist","$event","playlistAdd","addToPlaylist","playlistTrackMove","search","cd","refresh","selectDevice","name","components","Loading","MusicPlugin","mixins","Utils","props","type","Object","default","data","methods","refreshTracks","background","request","map","track","time","duration","reduce","obj","device","id","activeDevices","values","filter","is_active","length","playingPos","refreshPlaylists","sort","a","b","localeCompare","Promise","all","event","pos","uri","resource","volume","position","value","file","method","positions","resources","playlist","_loadPlaylist","notify","text","list","playlistIdx","from_pos","from","to_pos","to","query","item","deviceId","mounted","this","__exports__","render"],"sourceRoot":""}