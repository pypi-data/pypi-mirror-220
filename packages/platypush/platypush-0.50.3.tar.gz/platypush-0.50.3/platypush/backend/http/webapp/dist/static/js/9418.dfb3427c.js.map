{"version":3,"file":"static/js/9418.dfb3427c.js","mappings":"sQACOA,MAAM,6B,GAEFA,MAAM,Q,GAINA,MAAM,S,uCAaNA,MAAM,O,GAEFA,MAAM,O,GACJA,MAAM,S,kBAGNA,MAAM,oB,yBAEP,OAA0B,KAAvBA,MAAM,gBAAc,W,GAAvB,G,yBAGA,OAA0B,KAAvBA,MAAM,gBAAc,W,GAAvB,G,8DA9B0C,MAAX,EAAAC,MAAMA,QAAK,WAAxD,QAqCM,MArCN,EAqCM,EApCJ,OAeM,OAfDD,OAAK,SAAC,OAAM,WAAqB,EAAAE,cAAtC,EACE,OAEM,MAFN,EAEM,EADJ,QAAgE,GAAnDC,OAAQ,EAAAF,MAAQG,QAAS,EAAAA,QAAUC,MAAO,EAAAA,OAAvD,wCAGF,OAEM,MAFN,EAEM,EADJ,OAAwC,OAAnCL,MAAM,O,aAAO,QAAmB,EAAN,MAACM,OAAhC,aAGF,OAKM,OALDN,MAAM,oBAAqB,QAAK,yBAAO,EAAAE,WAAa,EAAAA,WAAS,YAAlE,CAC4D,MAAZ,EAAAD,OAAOA,QAAK,WAA1D,QAAsE,O,MAAjED,MAAM,Q,aAAQ,QAAoB,EAAP,MAACC,QAAjC,4BACA,OAEM,OAFDD,MAAM,mBAAoB,QAAK,yBAAO,EAAAE,WAAa,EAAAA,WAAS,YAAjE,EACE,OAAsF,KAAnFF,OAAK,SAAC,MAAK,mBAA6B,EAAAE,UAAS,iBAAoB,EAAAA,cAAxE,aAZN,GAiByB,EAAAA,WAAzB,iBAAyB,WAAzB,QAkBM,O,MAlBDF,MAAM,OAA0B,QAAK,8BAAO,EAAAO,SAAA,EAAAA,WAAA,IAAO,YAAxD,EACE,OAgBM,MAhBN,EAgBM,EAfJ,OAcO,QAdA,SAAM,8BAAU,EAAAC,UAAA,EAAAA,YAAA,IAAQ,eAA/B,EACE,OAYM,MAZN,EAYM,EAXJ,OAEM,MAFN,EAEM,WADJ,OAAkG,SAA3FC,KAAK,O,qCAAgB,EAAAC,OAAM,GAAEC,YAAY,iBAAkBC,SAAU,EAAAR,QAASS,IAAI,QAAzF,iBAA4B,EAAAH,aAE9B,OAOM,MAPN,EAOM,EANJ,OAES,UAFDD,KAAK,SAASK,MAAM,QAAS,QAAK,8BAAO,EAAAC,YAAA,EAAAA,cAAA,IAAU,WAAGH,SAAU,EAAAR,SAAxE,QAGA,OAES,UAFDK,KAAK,SAASK,MAAM,OAAQF,SAAU,EAAAR,SAA9C,YATN,aApBN,c,yBA4CF,GACEE,KAAM,WACNU,WAAY,CAACC,WAAU,cACvBC,OAAQ,CAACC,EAAA,YACTC,MAAO,CAAC,WACRC,KAAM,WACJ,MAAO,CACLnB,WAAW,EACXQ,OAAQ,KAEX,EAEDY,SAAU,CACRC,cACE,OAAOC,KAAKtB,SACb,GAGHuB,QAAS,CACPC,mBACEF,KAAKG,MAAM,WAAW,GACtB,UACQH,KAAKI,QAAQ,iBAAkB,CAACtB,KAAMkB,KAAKvB,MAAMK,MAGzD,CAJA,QAGEkB,KAAKG,MAAM,WAAW,EACxB,CACD,EAEDD,iBACE,MAAMzB,EAAQuB,KAAKd,OACnB,IAAKT,GAAO4B,OACV,aAAaL,KAAKT,aAEpBS,KAAKG,MAAM,WAAW,GACtB,IACE,MAAMG,EAAO,CAAC,EACdA,EAAKN,KAAKvB,MAAMK,MAAQL,QAClBuB,KAAKI,QAAQ,eAAgBE,EAGrC,CANA,QAKEN,KAAKG,MAAM,WAAW,EACxB,CACD,GAGHI,UACEP,KAAKd,OAASc,KAAKvB,MAAMA,MACzBuB,KAAKQ,QAAO,IAAMR,KAAKvB,MAAMA,QAAQgC,IACnCT,KAAKd,OAASuB,CAAd,GAEH,G,UCvFH,MAAMC,GAA2B,OAAgB,EAAQ,CAAC,CAAC,SAASC,GAAQ,CAAC,YAAY,qBAEzF,O","sources":["webpack://platypush/./src/components/panels/Entities/Variable.vue","webpack://platypush/./src/components/panels/Entities/Variable.vue?62e2"],"sourcesContent":["<template>\n  <div class=\"entity variable-container\" v-if=\"value.value != null\">\n    <div class=\"head\" :class=\"{collapsed: collapsed}\">\n      <div class=\"icon\">\n        <EntityIcon :entity=\"value\" :loading=\"loading\" :error=\"error\" />\n      </div>\n\n      <div class=\"label\">\n        <div class=\"name\" v-text=\"value.name\" />\n      </div>\n\n      <div class=\"value-and-toggler\" @click.stop=\"collapsed = !collapsed\">\n        <div class=\"value\" v-text=\"value.value\" v-if=\"value?.value != null\" />\n        <div class=\"collapse-toggler\" @click.stop=\"collapsed = !collapsed\">\n          <i class=\"fas\" :class=\"{'fa-chevron-down': collapsed, 'fa-chevron-up': !collapsed}\" />\n        </div>\n      </div>\n    </div>\n\n    <div class=\"body\" v-if=\"!collapsed\" @click.stop=\"prevent\">\n      <div class=\"row\">\n        <form @submit.prevent=\"setValue\">\n          <div class=\"row\">\n            <div class=\"col-9\">\n              <input type=\"text\" v-model=\"value_\" placeholder=\"Variable value\" :disabled=\"loading\" ref=\"text\" />\n            </div>\n            <div class=\"col-3 pull-right\">\n              <button type=\"button\" title=\"Clear\" @click.stop=\"clearValue\" :disabled=\"loading\">\n                <i class=\"fas fa-trash\" />\n              </button>\n              <button type=\"submit\" title=\"Edit\" :disabled=\"loading\">\n                <i class=\"fas fa-check\" />\n              </button>\n            </div>\n          </div>\n        </form>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport EntityMixin from \"./EntityMixin\"\nimport EntityIcon from \"./EntityIcon\"\n\nexport default {\n  name: 'Variable',\n  components: {EntityIcon},\n  mixins: [EntityMixin],\n  emits: ['loading'],\n  data: function() {\n    return {\n      collapsed: true,\n      value_: null,\n    }\n  },\n\n  computed: {\n    isCollapsed() {\n      return this.collapsed\n    },\n  },\n\n  methods: {\n    async clearValue() {\n      this.$emit('loading', true)\n      try {\n        await this.request('variable.unset', {name: this.value.name})\n      } finally {\n        this.$emit('loading', false)\n      }\n    },\n\n    async setValue() {\n      const value = this.value_\n      if (!value?.length)\n        return await this.clearValue()\n\n      this.$emit('loading', true)\n      try {\n        const args = {}\n        args[this.value.name] = value\n        await this.request('variable.set', args)\n      } finally {\n        this.$emit('loading', false)\n      }\n    },\n  },\n\n  mounted() {\n    this.value_ = this.value.value\n    this.$watch(() => this.value.value, (newValue) => {\n      this.value_ = newValue\n    })\n  },\n}\n</script>\n\n<style lang=\"scss\" scoped>\n@import \"common\";\n\n$icon-width: 2em;\n\n.variable-container {\n  .head {\n    .icon, .collapse-toggler {\n      width: $icon-width;\n    }\n\n    .label, .value-and-toggler {\n      min-width: calc(((100% - (2 * $icon-width)) / 2) - 1em);\n      max-width: calc(((100% - (2 * $icon-width)) / 2) - 1em);\n    }\n\n    .label {\n      margin-left: 1em;\n    }\n\n    .value-and-toggler {\n      text-align: right;\n    }\n  }\n\n  form {\n    width: 100%;\n\n    .row {\n      width: 100%;\n      input[type=text] {\n        width: 100%;\n      }\n    }\n  }\n}\n</style>\n","import { render } from \"./Variable.vue?vue&type=template&id=c4b6a144&scoped=true\"\nimport script from \"./Variable.vue?vue&type=script&lang=js\"\nexport * from \"./Variable.vue?vue&type=script&lang=js\"\n\nimport \"./Variable.vue?vue&type=style&index=0&id=c4b6a144&lang=scss&scoped=true\"\n\nimport exportComponent from \"/home/blacklight/git_tree/platypush/platypush/backend/http/webapp/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-c4b6a144\"]])\n\nexport default __exports__"],"names":["class","value","collapsed","entity","loading","error","name","prevent","setValue","type","value_","placeholder","disabled","ref","title","clearValue","components","EntityIcon","mixins","EntityMixin","emits","data","computed","isCollapsed","this","methods","async","$emit","request","length","args","mounted","$watch","newValue","__exports__","render"],"sourceRoot":""}