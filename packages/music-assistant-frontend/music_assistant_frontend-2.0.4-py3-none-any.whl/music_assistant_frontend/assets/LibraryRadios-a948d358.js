import{l as v,J as y,r as n,B as m,O as o,S as l,b as p,o as I,af as i,q as D,v as E}from"./index-ade73b84.js";import{_ as A}from"./ItemsListing.vue_vue_type_script_setup_true_lang-3b792876.js";import"./ListviewItem-2bd74fad.js";import"./MediaItemThumb.vue_vue_type_style_index_0_lang-cd169f56.js";import"./VMenu-ccc026f2.js";import"./VDivider-adefbf87.js";import"./VBtn-61e39030.js";import"./VListItem-f848c028.js";import"./Container-282a676b.js";/* empty css              */import"./VDialog-93a2100b.js";import"./VCard-f3e11b51.js";import"./VToolbar-806969a3.js";import"./VSelect-a66ffc02.js";/* empty css                             */import"./PanelviewItem.vue_vue_type_style_index_0_lang-93dbfb68.js";import"./Alert-4d78da02.js";import"./VSpacer-159b0383.js";import"./VBadge-12aff0c7.js";import"./VRow-74a0e5a5.js";const F=v({__name:"LibraryRadios",setup(M){const{t:s}=y(),u=n([]),r=n(!1);m.topBarContextMenuItems=[{label:"sync_now",labelArgs:[s("radios")],action:()=>{o.startSync([l.RADIO])},icon:"mdi-sync"},{label:"add_url_item",labelArgs:[],action:()=>{d()},icon:"mdi-link-plus"}],p(()=>{m.topBarContextMenuItems=[]}),I(()=>{const a=o.subscribe_multi([i.MEDIA_ITEM_ADDED,i.MEDIA_ITEM_UPDATED,i.MEDIA_ITEM_DELETED],t=>{var e;(e=t.object_id)!=null&&e.startsWith("library://radio")&&(r.value=!0)});p(a)});const c=async function(a,t,e,_,f=!0){const b=f||void 0;return r.value=!1,await o.getLibraryRadios(b,_,t,a,e)},d=async function(){const a=prompt(s("enter_url"));a&&o.getItem(l.RADIO,a,"url").then(t=>{const e=prompt(s("enter_name"),t.name);t.name=e||t.name,o.addItemToLibrary(t).then(()=>r.value=!0)}).catch(t=>alert(t))};return(a,t)=>(D(),E(A,{itemtype:"radios",items:u.value,"show-duration":!1,"show-provider":!1,"show-favorites-only-filter":!0,"load-data":c,"sort-keys":["sort_name","timestamp_added DESC"],"update-available":r.value},null,8,["items","update-available"]))}});export{F as default};
