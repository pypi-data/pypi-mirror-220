import{a5 as Ye,a6 as qe,n as Me,q as u,v as V,aE as Xe,aF as Je,aG as Qe,P as xe,a9 as Le,Q as Oe,y as g,Y as ee,M as I,x as p,F as X,z as J,R as ke,k as x,aH as Ze,X as et,W as me,j as y,p as Be,as as tt,g as be,f as it,al as st,c as ge,aI as lt,m as rt,d as nt,l as Re,J as Ee,r as H,w as ot,O as w,L as B,N as S,A as b,K as F,B as te,U as A,ag as Fe,aJ as at,aK as W,a4 as K,aA as ie,ai as Y,ae as ut,aj as dt,a7 as se,D as ae,S as ct}from"./index-e9211ef1.js";import{_ as De,V as Ie,d as mt}from"./MediaItemThumb.vue_vue_type_style_index_0_lang-278977b5.js";import{L as Q,a as fe,_ as ft}from"./Container-349a0ac0.js";import{V as pt,b as Ve}from"./VToolbar-daf2b89f.js";import{i as ht,a as yt,z as vt,d as bt,A as gt,B as _t,C as St,l as ne,V as N}from"./VBtn-68784d55.js";import{V as wt}from"./VDivider-336c24cd.js";import{c as ue,a as kt}from"./VCard-138864fc.js";import{m as It,a as $e,b as Vt,V as $t}from"./VSelect-04a129eb.js";import{V as de}from"./VMenu-bc0cce60.js";import{d as zt,a as ze,b as At}from"./VListItem-230d1393.js";import{m as Tt,u as Ct,c as Ae,V as Pt}from"./VDialog-5f240a62.js";function Mt(){var e=window.navigator.userAgent,t=e.indexOf("MSIE ");if(t>0)return parseInt(e.substring(t+5,e.indexOf(".",t)),10);var i=e.indexOf("Trident/");if(i>0){var r=e.indexOf("rv:");return parseInt(e.substring(r+3,e.indexOf(".",r)),10)}var l=e.indexOf("Edge/");return l>0?parseInt(e.substring(l+5,e.indexOf(".",l)),10):-1}let le;function pe(){pe.init||(pe.init=!0,le=Mt()!==-1)}var oe={name:"ResizeObserver",props:{emitOnMount:{type:Boolean,default:!1},ignoreWidth:{type:Boolean,default:!1},ignoreHeight:{type:Boolean,default:!1}},emits:["notify"],mounted(){pe(),Me(()=>{this._w=this.$el.offsetWidth,this._h=this.$el.offsetHeight,this.emitOnMount&&this.emitSize()});const e=document.createElement("object");this._resizeObject=e,e.setAttribute("aria-hidden","true"),e.setAttribute("tabindex",-1),e.onload=this.addResizeHandlers,e.type="text/html",le&&this.$el.appendChild(e),e.data="about:blank",le||this.$el.appendChild(e)},beforeUnmount(){this.removeResizeHandlers()},methods:{compareAndNotify(){(!this.ignoreWidth&&this._w!==this.$el.offsetWidth||!this.ignoreHeight&&this._h!==this.$el.offsetHeight)&&(this._w=this.$el.offsetWidth,this._h=this.$el.offsetHeight,this.emitSize())},emitSize(){this.$emit("notify",{width:this._w,height:this._h})},addResizeHandlers(){this._resizeObject.contentDocument.defaultView.addEventListener("resize",this.compareAndNotify),this.compareAndNotify()},removeResizeHandlers(){this._resizeObject&&this._resizeObject.onload&&(!le&&this._resizeObject.contentDocument&&this._resizeObject.contentDocument.defaultView.removeEventListener("resize",this.compareAndNotify),this.$el.removeChild(this._resizeObject),this._resizeObject.onload=null,this._resizeObject=null)}}};const Lt=Xe();Ye("data-v-b329ee4c");const Ot={class:"resize-observer",tabindex:"-1"};qe();const Bt=Lt((e,t,i,r,l,m)=>(u(),V("div",Ot)));oe.render=Bt;oe.__scopeId="data-v-b329ee4c";oe.__file="src/components/ResizeObserver.vue";function re(e){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?re=function(t){return typeof t}:re=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},re(e)}function Rt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Te(e,t){for(var i=0;i<t.length;i++){var r=t[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Et(e,t,i){return t&&Te(e.prototype,t),i&&Te(e,i),e}function Ce(e){return Ft(e)||Dt(e)||Nt(e)||Ut()}function Ft(e){if(Array.isArray(e))return he(e)}function Dt(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function Nt(e,t){if(e){if(typeof e=="string")return he(e,t);var i=Object.prototype.toString.call(e).slice(8,-1);if(i==="Object"&&e.constructor&&(i=e.constructor.name),i==="Map"||i==="Set")return Array.from(e);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return he(e,t)}}function he(e,t){(t==null||t>e.length)&&(t=e.length);for(var i=0,r=new Array(t);i<t;i++)r[i]=e[i];return r}function Ut(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ht(e){var t;return typeof e=="function"?t={callback:e}:t=e,t}function Kt(e,t){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},r,l,m,s=function(o){for(var f=arguments.length,$=new Array(f>1?f-1:0),C=1;C<f;C++)$[C-1]=arguments[C];if(m=$,!(r&&o===l)){var M=i.leading;typeof M=="function"&&(M=M(o,l)),(!r||o!==l)&&M&&e.apply(void 0,[o].concat(Ce(m))),l=o,clearTimeout(r),r=setTimeout(function(){e.apply(void 0,[o].concat(Ce(m))),r=0},t)}};return s._clear=function(){clearTimeout(r),r=null},s}function Ne(e,t){if(e===t)return!0;if(re(e)==="object"){for(var i in e)if(!Ne(e[i],t[i]))return!1;return!0}return!1}var jt=function(){function e(t,i,r){Rt(this,e),this.el=t,this.observer=null,this.frozen=!1,this.createObserver(i,r)}return Et(e,[{key:"createObserver",value:function(i,r){var l=this;if(this.observer&&this.destroyObserver(),!this.frozen){if(this.options=Ht(i),this.callback=function(n,o){l.options.callback(n,o),n&&l.options.once&&(l.frozen=!0,l.destroyObserver())},this.callback&&this.options.throttle){var m=this.options.throttleOptions||{},s=m.leading;this.callback=Kt(this.callback,this.options.throttle,{leading:function(o){return s==="both"||s==="visible"&&o||s==="hidden"&&!o}})}this.oldResult=void 0,this.observer=new IntersectionObserver(function(n){var o=n[0];if(n.length>1){var f=n.find(function(C){return C.isIntersecting});f&&(o=f)}if(l.callback){var $=o.isIntersecting&&o.intersectionRatio>=l.threshold;if($===l.oldResult)return;l.oldResult=$,l.callback($,o)}},this.options.intersection),Me(function(){l.observer&&l.observer.observe(l.el)})}}},{key:"destroyObserver",value:function(){this.observer&&(this.observer.disconnect(),this.observer=null),this.callback&&this.callback._clear&&(this.callback._clear(),this.callback=null)}},{key:"threshold",get:function(){return this.options.intersection&&typeof this.options.intersection.threshold=="number"?this.options.intersection.threshold:0}}]),e}();function Ue(e,t,i){var r=t.value;if(r)if(typeof IntersectionObserver>"u")console.warn("[vue-observe-visibility] IntersectionObserver API is not available in your browser. Please install this polyfill: https://github.com/w3c/IntersectionObserver/tree/master/polyfill");else{var l=new jt(e,r,i);e._vue_visibilityState=l}}function Gt(e,t,i){var r=t.value,l=t.oldValue;if(!Ne(r,l)){var m=e._vue_visibilityState;if(!r){He(e);return}m?m.createObserver(r,i):Ue(e,{value:r},i)}}function He(e){var t=e._vue_visibilityState;t&&(t.destroyObserver(),delete e._vue_visibilityState)}var Wt={beforeMount:Ue,updated:Gt,unmounted:He},Yt={itemsLimit:1e3},qt=/(auto|scroll)/;function Ke(e,t){return e.parentNode===null?t:Ke(e.parentNode,t.concat([e]))}var ce=function(t,i){return getComputedStyle(t,null).getPropertyValue(i)},Xt=function(t){return ce(t,"overflow")+ce(t,"overflow-y")+ce(t,"overflow-x")},Jt=function(t){return qt.test(Xt(t))};function Pe(e){if(e instanceof HTMLElement||e instanceof SVGElement){for(var t=Ke(e.parentNode,[]),i=0;i<t.length;i+=1)if(Jt(t[i]))return t[i];return document.scrollingElement||document.documentElement}}function ye(e){"@babel/helpers - typeof";return ye=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ye(e)}var Qt={items:{type:Array,required:!0},keyField:{type:String,default:"id"},direction:{type:String,default:"vertical",validator:function(t){return["vertical","horizontal"].includes(t)}},listTag:{type:String,default:"div"},itemTag:{type:String,default:"div"}};function xt(){return this.items.length&&ye(this.items[0])!=="object"}var ve=!1;if(typeof window<"u"){ve=!1;try{var Zt=Object.defineProperty({},"passive",{get:function(){ve=!0}});window.addEventListener("test",null,Zt)}catch{}}let ei=0;var je={name:"RecycleScroller",components:{ResizeObserver:oe},directives:{ObserveVisibility:Wt},props:{...Qt,itemSize:{type:Number,default:null},gridItems:{type:Number,default:void 0},itemSecondarySize:{type:Number,default:void 0},minItemSize:{type:[Number,String],default:null},sizeField:{type:String,default:"size"},typeField:{type:String,default:"type"},buffer:{type:Number,default:200},pageMode:{type:Boolean,default:!1},prerender:{type:Number,default:0},emitUpdate:{type:Boolean,default:!1},updateInterval:{type:Number,default:0},skipHover:{type:Boolean,default:!1},listTag:{type:String,default:"div"},itemTag:{type:String,default:"div"},listClass:{type:[String,Object,Array],default:""},itemClass:{type:[String,Object,Array],default:""}},emits:["resize","visible","hidden","update","scroll-start","scroll-end"],data(){return{pool:[],totalSize:0,ready:!1,hoverKey:null}},computed:{sizes(){if(this.itemSize===null){const e={"-1":{accumulator:0}},t=this.items,i=this.sizeField,r=this.minItemSize;let l=1e4,m=0,s;for(let n=0,o=t.length;n<o;n++)s=t[n][i]||r,s<l&&(l=s),m+=s,e[n]={accumulator:m,size:s};return this.$_computedMinItemSize=l,e}return[]},simpleArray:xt,itemIndexByKey(){const{keyField:e,items:t}=this,i={};for(let r=0,l=t.length;r<l;r++)i[t[r][e]]=r;return i}},watch:{items(){this.updateVisibleItems(!0)},pageMode(){this.applyPageMode(),this.updateVisibleItems(!1)},sizes:{handler(){this.updateVisibleItems(!1)},deep:!0},gridItems(){this.updateVisibleItems(!0)},itemSecondarySize(){this.updateVisibleItems(!0)}},created(){this.$_startIndex=0,this.$_endIndex=0,this.$_views=new Map,this.$_unusedViews=new Map,this.$_scrollDirty=!1,this.$_lastUpdateScrollPosition=0,this.prerender&&(this.$_prerender=!0,this.updateVisibleItems(!1)),this.gridItems&&!this.itemSize&&console.error("[vue-recycle-scroller] You must provide an itemSize when using gridItems")},mounted(){this.applyPageMode(),this.$nextTick(()=>{this.$_prerender=!1,this.updateVisibleItems(!0),this.ready=!0})},activated(){const e=this.$_lastUpdateScrollPosition;typeof e=="number"&&this.$nextTick(()=>{this.scrollToPosition(e)})},beforeUnmount(){this.removeListeners()},methods:{addView(e,t,i,r,l){const m=Je({id:ei++,index:t,used:!0,key:r,type:l}),s=Qe({item:i,position:0,nr:m});return e.push(s),s},unuseView(e,t=!1){const i=this.$_unusedViews,r=e.nr.type;let l=i.get(r);l||(l=[],i.set(r,l)),l.push(e),t||(e.nr.used=!1,e.position=-9999)},handleResize(){this.$emit("resize"),this.ready&&this.updateVisibleItems(!1)},handleScroll(e){if(!this.$_scrollDirty){if(this.$_scrollDirty=!0,this.$_updateTimeout)return;const t=()=>requestAnimationFrame(()=>{this.$_scrollDirty=!1;const{continuous:i}=this.updateVisibleItems(!1,!0);i||(clearTimeout(this.$_refreshTimout),this.$_refreshTimout=setTimeout(this.handleScroll,this.updateInterval+100))});t(),this.updateInterval&&(this.$_updateTimeout=setTimeout(()=>{this.$_updateTimeout=0,this.$_scrollDirty&&t()},this.updateInterval))}},handleVisibilityChange(e,t){this.ready&&(e||t.boundingClientRect.width!==0||t.boundingClientRect.height!==0?(this.$emit("visible"),requestAnimationFrame(()=>{this.updateVisibleItems(!1)})):this.$emit("hidden"))},updateVisibleItems(e,t=!1){const i=this.itemSize,r=this.gridItems||1,l=this.itemSecondarySize||i,m=this.$_computedMinItemSize,s=this.typeField,n=this.simpleArray?null:this.keyField,o=this.items,f=o.length,$=this.sizes,C=this.$_views,M=this.$_unusedViews,R=this.pool,U=this.itemIndexByKey;let k,_,d,h,c;if(!f)k=_=h=c=d=0;else if(this.$_prerender)k=h=0,_=c=Math.min(this.prerender,o.length),d=null;else{const v=this.getScroll();if(t){let T=v.start-this.$_lastUpdateScrollPosition;if(T<0&&(T=-T),i===null&&T<m||T<i)return{continuous:!0}}this.$_lastUpdateScrollPosition=v.start;const L=this.buffer;v.start-=L,v.end+=L;let z=0;if(this.$refs.before&&(z=this.$refs.before.scrollHeight,v.start-=z),this.$refs.after){const T=this.$refs.after.scrollHeight;v.end+=T}if(i===null){let T,G=0,Se=f-1,O=~~(f/2),we;do we=O,T=$[O].accumulator,T<v.start?G=O:O<f-1&&$[O+1].accumulator>v.start&&(Se=O),O=~~((G+Se)/2);while(O!==we);for(O<0&&(O=0),k=O,d=$[f-1].accumulator,_=O;_<f&&$[_].accumulator<v.end;_++);for(_===-1?_=o.length-1:(_++,_>f&&(_=f)),h=k;h<f&&z+$[h].accumulator<v.start;h++);for(c=h;c<f&&z+$[c].accumulator<v.end;c++);}else{k=~~(v.start/i*r);const T=k%r;k-=T,_=Math.ceil(v.end/i*r),h=Math.max(0,Math.floor((v.start-z)/i*r)),c=Math.floor((v.end-z)/i*r),k<0&&(k=0),_>f&&(_=f),h<0&&(h=0),c>f&&(c=f),d=Math.ceil(f/r)*i}}_-k>Yt.itemsLimit&&this.itemsLimitError(),this.totalSize=d;let a;const P=k<=this.$_endIndex&&_>=this.$_startIndex;if(P)for(let v=0,L=R.length;v<L;v++)a=R[v],a.nr.used&&(e&&(a.nr.index=U[a.item[n]]),(a.nr.index==null||a.nr.index<k||a.nr.index>=_)&&this.unuseView(a));const _e=P?null:new Map;let D,E,Z;for(let v=k;v<_;v++){D=o[v];const L=n?D[n]:D;if(L==null)throw new Error(`Key is ${L} on item (keyField is '${n}')`);if(a=C.get(L),!i&&!$[v].size){a&&this.unuseView(a);continue}E=D[s];let z=M.get(E),T=!1;if(!a)P?z&&z.length?a=z.pop():a=this.addView(R,v,D,L,E):(Z=_e.get(E)||0,(!z||Z>=z.length)&&(a=this.addView(R,v,D,L,E),this.unuseView(a,!0),z=M.get(E)),a=z[Z],_e.set(E,Z+1)),C.delete(a.nr.key),a.nr.used=!0,a.nr.index=v,a.nr.key=L,a.nr.type=E,C.set(L,a),T=!0;else if(!a.nr.used&&(a.nr.used=!0,T=!0,z)){const G=z.indexOf(a);G!==-1&&z.splice(G,1)}a.item=D,T&&(v===o.length-1&&this.$emit("scroll-end"),v===0&&this.$emit("scroll-start")),i===null?(a.position=$[v-1].accumulator,a.offset=0):(a.position=Math.floor(v/r)*i,a.offset=v%r*l)}return this.$_startIndex=k,this.$_endIndex=_,this.emitUpdate&&this.$emit("update",k,_,h,c),clearTimeout(this.$_sortTimer),this.$_sortTimer=setTimeout(this.sortViews,this.updateInterval+300),{continuous:P}},getListenerTarget(){let e=Pe(this.$el);return window.document&&(e===window.document.documentElement||e===window.document.body)&&(e=window),e},getScroll(){const{$el:e,direction:t}=this,i=t==="vertical";let r;if(this.pageMode){const l=e.getBoundingClientRect(),m=i?l.height:l.width;let s=-(i?l.top:l.left),n=i?window.innerHeight:window.innerWidth;s<0&&(n+=s,s=0),s+n>m&&(n=m-s),r={start:s,end:s+n}}else i?r={start:e.scrollTop,end:e.scrollTop+e.clientHeight}:r={start:e.scrollLeft,end:e.scrollLeft+e.clientWidth};return r},applyPageMode(){this.pageMode?this.addListeners():this.removeListeners()},addListeners(){this.listenerTarget=this.getListenerTarget(),this.listenerTarget.addEventListener("scroll",this.handleScroll,ve?{passive:!0}:!1),this.listenerTarget.addEventListener("resize",this.handleResize)},removeListeners(){this.listenerTarget&&(this.listenerTarget.removeEventListener("scroll",this.handleScroll),this.listenerTarget.removeEventListener("resize",this.handleResize),this.listenerTarget=null)},scrollToItem(e){let t;const i=this.gridItems||1;this.itemSize===null?t=e>0?this.sizes[e-1].accumulator:0:t=Math.floor(e/i)*this.itemSize,this.scrollToPosition(t)},scrollToPosition(e){const t=this.direction==="vertical"?{scroll:"scrollTop",start:"top"}:{scroll:"scrollLeft",start:"left"};let i,r,l;if(this.pageMode){const m=Pe(this.$el),s=m.tagName==="HTML"?0:m[t.scroll],n=m.getBoundingClientRect(),f=this.$el.getBoundingClientRect()[t.start]-n[t.start];i=m,r=t.scroll,l=e+s+f}else i=this.$el,r=t.scroll,l=e;i[r]=l},itemsLimitError(){throw setTimeout(()=>{console.log("It seems the scroller element isn't scrolling, so it tries to render all the items at once.","Scroller:",this.$el),console.log("Make sure the scroller has a fixed height (or width) and 'overflow-y' (or 'overflow-x') set to 'auto' so it can scroll correctly and only render the items visible in the scroll viewport.")}),new Error("Rendered items limit reached")},sortViews(){this.pool.sort((e,t)=>e.nr.index-t.nr.index)}}};const ti={key:0,ref:"before",class:"vue-recycle-scroller__slot"},ii={key:1,ref:"after",class:"vue-recycle-scroller__slot"};function si(e,t,i,r,l,m){const s=xe("ResizeObserver"),n=Le("observe-visibility");return Oe((u(),g("div",{class:me(["vue-recycle-scroller",{ready:l.ready,"page-mode":i.pageMode,[`direction-${e.direction}`]:!0}]),onScrollPassive:t[0]||(t[0]=(...o)=>m.handleScroll&&m.handleScroll(...o))},[e.$slots.before?(u(),g("div",ti,[ee(e.$slots,"before")],512)):I("v-if",!0),(u(),V(ke(i.listTag),{ref:"wrapper",style:et({[e.direction==="vertical"?"minHeight":"minWidth"]:l.totalSize+"px"}),class:me(["vue-recycle-scroller__item-wrapper",i.listClass])},{default:p(()=>[(u(!0),g(X,null,J(l.pool,o=>(u(),V(ke(i.itemTag),x({key:o.nr.id,style:l.ready?{transform:`translate${e.direction==="vertical"?"Y":"X"}(${o.position}px) translate${e.direction==="vertical"?"X":"Y"}(${o.offset}px)`,width:i.gridItems?`${e.direction==="vertical"&&i.itemSecondarySize||i.itemSize}px`:void 0,height:i.gridItems?`${e.direction==="horizontal"&&i.itemSecondarySize||i.itemSize}px`:void 0}:null,class:["vue-recycle-scroller__item-view",[i.itemClass,{hover:!i.skipHover&&l.hoverKey===o.nr.key}]]},Ze(i.skipHover?{}:{mouseenter:()=>{l.hoverKey=o.nr.key},mouseleave:()=>{l.hoverKey=null}})),{default:p(()=>[ee(e.$slots,"default",{item:o.item,index:o.nr.index,active:o.nr.used})]),_:2},1040,["style","class"]))),128)),ee(e.$slots,"empty")]),_:3},8,["style","class"])),e.$slots.after?(u(),g("div",ii,[ee(e.$slots,"after")],512)):I("v-if",!0),y(s,{onNotify:m.handleResize},null,8,["onNotify"])],34)),[[n,m.handleVisibilityChange]])}je.render=si;je.__file="src/components/RecycleScroller.vue";const li=Be({...Tt(),...tt(It(),["inline"])},"VCheckbox"),ri=be()({name:"VCheckbox",inheritAttrs:!1,props:li(),emits:{"update:modelValue":e=>!0,"update:focused":e=>!0},setup(e,t){let{attrs:i,slots:r}=t;const l=it(e,"modelValue"),{isFocused:m,focus:s,blur:n}=Ct(e),o=st(),f=ge(()=>e.id||`checkbox-${o}`);return ht(()=>{const[$,C]=lt(i),[M,R]=Ae.filterProps(e),[U,k]=$e.filterProps(e);return y(Ae,x({class:["v-checkbox",e.class]},$,M,{modelValue:l.value,"onUpdate:modelValue":_=>l.value=_,id:f.value,focused:m.value,style:e.style}),{...r,default:_=>{let{id:d,messagesId:h,isDisabled:c,isReadonly:a}=_;return y($e,x(U,{id:d.value,"aria-describedby":h.value,disabled:c.value,readonly:a.value},C,{modelValue:l.value,"onUpdate:modelValue":P=>l.value=P,onFocus:s,onBlur:n}),r)}})}),{}}});const Ge=Symbol.for("vuetify:v-item-group"),ni=Be({...yt(),...vt({selectedClass:"v-item--selected"}),...bt(),...rt()},"VItemGroup"),oi=be()({name:"VItemGroup",props:ni(),emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:i}=t;const{themeClasses:r}=nt(e),{isSelected:l,select:m,next:s,prev:n,selected:o}=gt(e,Ge);return()=>y(e.tag,{class:["v-item-group",r.value,e.class],style:e.style},{default:()=>{var f;return[(f=i.default)==null?void 0:f.call(i,{isSelected:l,select:m,next:s,prev:n,selected:o.value})]}})}}),q=be()({name:"VItem",props:_t(),emits:{"group:selected":e=>!0},setup(e,t){let{slots:i}=t;const{isSelected:r,select:l,toggle:m,selectedClass:s,value:n,disabled:o}=St(e,Ge);return()=>{var f;return(f=i.default)==null?void 0:f.call(i,{isSelected:r.value,selectedClass:s.value,select:l,toggle:m,value:n.value,disabled:o.value})}}}),ai={key:0},ui={class:"media-thumb"},di={key:0},j=function(e){var t;for(const i of e.provider_mappings)if(i.available&&((t=w.providers[i.provider_instance])!=null&&t.available))return!0;return!1},ci=function(e){var t;for(const i of e.provider_mappings)if((t=w.providers[i.provider_instance])!=null&&t.supported_features.includes(Fe.SIMILAR_TRACKS))return!0;return!1},mi=function(e,t){const i=[];if(e.length==0||!j(e[0]))return i;let r=W.PLAY,l=W.NEXT;return(e.length>10||[A.ALBUM,A.PLAYLIST].includes(e[0].media_type))&&(r=W.REPLACE,l=W.REPLACE_NEXT),e.length==1&&t&&t.media_type==A.PLAYLIST&&i.push({label:"play_playlist_from",action:()=>{w.playPlaylistFromIndex(t,e[0].position||0)},icon:"mdi-play-circle-outline",labelArgs:[],actionStr:"play"}),e.length==1&&t&&t.media_type==A.ALBUM&&i.push({label:"play_album_from",action:()=>{w.playAlbumFromItem(t,e[0])},icon:"mdi-play-circle-outline",labelArgs:[],actionStr:"play"}),i.push({label:"play_now",action:()=>{w.playMedia(e,r)},icon:"mdi-play-circle-outline",labelArgs:[],actionStr:"play"}),ci(e[0])&&i.push({label:"play_radio",action:()=>{w.playMedia(e,r,!0)},icon:"mdi-radio-tower",labelArgs:[],actionStr:"play"}),(e.length===1||e[0].media_type===A.TRACK)&&i.push({label:"play_next",action:()=>{w.playMedia(e,l)},icon:"mdi-skip-next-circle-outline",labelArgs:[],actionStr:"play"}),i.push({label:"add_queue",action:()=>{w.playMedia(e,W.ADD)},icon:"mdi-playlist-plus",labelArgs:[],actionStr:"play"}),i},We=function(e,t,i){const r=[];if(e.length==0)return r;if(e.length===1&&e[0]!==t&&j(e[0])&&r.push({label:"show_info",labelArgs:[],action:()=>{var l;K.push({name:e[0].media_type,params:{itemId:e[0].item_id,provider:e[0].provider},query:{album:"album"in e[0]?(l=e[0].album)==null?void 0:l.uri:""}})},icon:"mdi-information-outline"}),e.length===1&&j(e[0])&&"artists"in e[0]&&e[0].artists.length===1)for(const l of e[0].artists)r.push({label:"goto_artist",labelArgs:[l.name],action:()=>{K.push({name:"artist",params:{itemId:l.item_id,provider:l.provider}})},icon:"mdi-account-music"});if(e.length===1&&j(e[0])&&"album"in e[0]&&e[0].album&&r.push({label:"goto_album",labelArgs:[e[0].album.name],action:()=>{K.push({name:"album",params:{itemId:e[0].album.item_id,provider:e[0].album.provider}})},icon:"mdi-album"}),e.length===1&&(e[0]==t||!j(e[0]))&&r.push({label:"refresh_item",labelArgs:[],action:async()=>{await w.refreshItem(e[0]),K.go(0)},icon:"mdi-refresh"}),e[0].provider!="library"&&j(e[0])&&r.push({label:"add_library",labelArgs:[],action:()=>{for(const l of e)w.addItemToLibrary(l)},icon:"mdi-bookshelf"}),e[0].provider=="library"&&r.push({label:"remove_library",labelArgs:[],action:()=>{if(confirm(i("confirm_library_remove"))){for(const l of e)w.removeItemFromLibrary(l.media_type,l.item_id);e[0].item_id==(t==null?void 0:t.item_id)?K.go(-1):K.go(0)}},icon:"mdi-bookshelf"}),e[0].favorite||r.push({label:"favorites_add",labelArgs:[],action:()=>{for(const l of e)w.addItemToFavorites(l),l.favorite=!0},icon:"mdi-heart-outline"}),e[0].favorite&&r.push({label:"favorites_remove",labelArgs:[],action:()=>{for(const l of e)w.removeItemFromFavorites(l.media_type,l.item_id),l.favorite=!1},icon:"mdi-heart"}),t&&t.media_type===A.PLAYLIST){const l=t;e[0].media_type===A.TRACK&&l.is_editable&&r.push({label:"remove_playlist",labelArgs:[],action:()=>{w.removePlaylistTracks(l.item_id,e.map(m=>m.position))},icon:"mdi-minus-circle-outline"})}return e[0].media_type==="track"&&r.push({label:"add_playlist",labelArgs:[],actionStr:"add_playlist",icon:"mdi-plus-circle-outline"}),e.length>1&&r.push({label:"clear_selection",labelArgs:[],actionStr:"clear",icon:"mdi-cancel"}),r},Ni=Re({__name:"MediaItemContextMenu",props:{items:{},parentItem:{default:void 0},modelValue:{type:Boolean},enablePlayItems:{type:Boolean,default:!0},enableActionMenuItems:{type:Boolean,default:!0},fullscreen:{type:Boolean,default:!0}},emits:["refresh","clear","update:modelValue","update:items"],setup(e,{emit:t}){const i=e,{t:r}=Ee(),l=H([]),m=H([]),s=H(""),n=H([]),o=H(!1),f=H("");ot(()=>i.modelValue,d=>{d&&$()});const $=async function(){if(o.value=!1,n.value=[],!i.items)return;i.items.length===1?s.value=i.items[0].name:s.value=r("items_selected",[i.items.length]).toString(),te.selectedPlayer&&te.selectedPlayer.available?m.value=mi(i.items,i.parentItem):m.value=[];let d=i.items[0],h=0;if("position"in d&&(h=d.position),d.provider!=="library"){try{d=await w.getItemByUri(i.items[0].uri)}catch{d=i.items[0]}"position"in d&&(d.position=h);const c=i.items;c[0]=d,t("update:items",c)}l.value=We(i.items,i.parentItem,r),C()},C=async function(){n.value=[];const d=await w.getLibraryPlaylists();for(const h of d.items)h.is_editable&&!(i.parentItem&&i.parentItem.media_type===A.PLAYLIST&&h.item_id===i.parentItem.item_id)&&n.value.push(h)},M=function(d){w.addPlaylistTracks(d.item_id,i.items.map(h=>h.uri)),k()},R=async function(d){const h=await w.createPlaylist(f.value,d);M(h)},U=async function(d){d.actionStr=="add_playlist"?o.value=!0:d.actionStr=="clear"?(t("clear"),k()):d.action&&d.actionStr=="play"?(d.action(),t("clear"),k()):d.action&&(k(),d.action())},k=function(){i.items.length==1&&t("clear"),t("update:modelValue",!1)},_=ge(()=>{var h,c;const d=[];for(const a in(h=w)==null?void 0:h.players){const P=(c=w)==null?void 0:c.players[a];P.synced_to||d.push({title:P.display_name,value:P.player_id})}return d.slice().sort((a,P)=>a.title.toUpperCase()>P.title.toUpperCase()?1:-1)});return(d,h)=>(u(),V(Pt,{"model-value":d.modelValue,fullscreen:d.$vuetify.display.mobile,"min-height":"80%",scrim:!0,"onUpdate:modelValue":h[3]||(h[3]=c=>d.$emit("update:modelValue",c))},{default:p(()=>[y(kt,null,{default:p(()=>[y(pt,{color:"transparent",style:{padding:"10px 0px"},density:"compact",class:"titlebar"},{default:p(()=>[y(ne,{icon:"mdi-play-circle-outline"}),o.value?(u(),V(Ve,{key:0,style:{"padding-left":"10px"}},{default:p(()=>[B("b",null,S(d.$t("add_playlist")),1),d.$vuetify.display.mobile?I("",!0):(u(),g("span",ai," | "+S(s.value),1))]),_:1})):(u(),V(Ve,{key:1,style:{"padding-left":"10px"}},{default:p(()=>[B("b",null,S(s.value),1)]),_:1})),y(ne,{icon:"mdi-close",dark:"",onClick:h[0]||(h[0]=c=>k())})]),_:1}),y(wt),d.enablePlayItems&&!o.value&&m.value.length>0?(u(),V(ue,{key:0},{default:p(()=>{var c;return[y(Vt,{label:d.$t("play_on"),"model-value":(c=b(te).selectedPlayer)==null?void 0:c.player_id,items:_.value,"hide-details":"","onUpdate:modelValue":h[1]||(h[1]=a=>{b(te).selectedPlayer=b(w).players[a]})},null,8,["label","model-value","items"]),y(de,null,{default:p(()=>[(u(!0),g(X,null,J(m.value,a=>(u(),g("div",{key:a.label},[y(Q,{title:d.$t(a.label,a.labelArgs),density:"default",onClick:P=>U(a)},{prepend:p(()=>[y(ze,{style:{"padding-right":"10px"}},{default:p(()=>[y(N,{icon:a.icon},null,8,["icon"])]),_:2},1024)]),_:2},1032,["title","onClick"])]))),128))]),_:1})]}),_:1})):I("",!0),d.enableActionMenuItems&&!o.value&&l.value.length>0?(u(),V(ue,{key:1,style:{"padding-top":"0","margin-top":"-10px","padding-bottom":"0"}},{default:p(()=>[y(zt,{style:{"margin-left":"10px"}},{default:p(()=>[F(S(d.$t("actions")),1)]),_:1}),y(de,null,{default:p(()=>[(u(!0),g(X,null,J(l.value,c=>(u(),g("div",{key:c.label},[y(Q,{title:d.$t(c.label,c.labelArgs),density:"default",onClick:a=>U(c)},{prepend:p(()=>[y(ze,{style:{"padding-right":"10px"}},{default:p(()=>[y(N,{icon:c.icon},null,8,["icon"])]),_:2},1024)]),_:2},1032,["title","onClick"])]))),128))]),_:1})]),_:1})):I("",!0),o.value?(u(),V(ue,{key:2},{default:p(()=>[y(de,null,{default:p(()=>[(u(!0),g(X,null,J(n.value,c=>(u(),g("div",{key:c.item_id},[y(Q,{ripple:"",density:"default",onClick:a=>M(c)},{prepend:p(()=>[B("div",ui,[y(De,{item:c,size:50,width:"50px",height:"50px"},null,8,["item"])])]),title:p(()=>[B("div",null,S(c.name),1)]),subtitle:p(()=>[B("div",null,S(c.owner),1)]),append:p(()=>[c.provider_mappings?(u(),V(fe,{key:0,domain:c.provider_mappings[0].provider_domain,size:20},null,8,["domain"])):I("",!0)]),_:2},1032,["onClick"])]))),128)),(u(!0),g(X,null,J(b(w).providers,c=>(u(),g("div",{key:c.instance_id},[c.supported_features.includes(b(Fe).PLAYLIST_CREATE)?(u(),g("div",di,[y(Q,{ripple:""},{prepend:p(()=>[y(fe,{domain:c.domain,size:40,class:"media-thumb"},null,8,["domain"])]),title:p(()=>[y($t,{label:d.$t("create_playlist",[c.name]),"append-icon":"mdi-playlist-plus",variant:"plain","hide-details":"","onUpdate:modelValue":h[2]||(h[2]=a=>{f.value=a}),"onClick:append":a=>R(c.instance_id),onKeydown:at(a=>R(c.instance_id),["enter"])},null,8,["label","onClick:append","onKeydown"])]),_:2},1024)])):I("",!0)]))),128))]),_:1})]),_:1})):I("",!0)]),_:1})]),_:1},8,["model-value","fullscreen"]))}});const fi={key:0,class:"media-thumb listitem-media-thumb"},pi={key:1,class:"media-thumb listitem-media-thumb"},hi={key:2,class:"media-thumb listitem-media-thumb"},yi={key:0},vi={key:1},bi={key:0},gi={key:0,class:"line-clamp-1"},_i={key:1},Si={key:2},wi={key:3},ki={key:4},Ii={key:5},Vi={key:2},$i={key:3},zi={class:"text-caption",style:{"padding-right":"10px","padding-left":"10px"}},Ai=Re({__name:"ListviewItem",props:{item:{},showTrackNumber:{type:Boolean,default:!0},showDiscNumber:{type:Boolean,default:!0},showPosition:{type:Boolean,default:!0},showProvider:{type:Boolean,default:!0},showAlbum:{type:Boolean,default:!0},showMenu:{type:Boolean,default:!0},showFavorite:{type:Boolean,default:!1},showDuration:{type:Boolean,default:!0},isSelected:{type:Boolean},isDisabled:{type:Boolean,default:!1},showCheckboxes:{type:Boolean,default:!1},showDetails:{type:Boolean},parentItem:{default:void 0}},emits:["menu","click","select"],setup(e,{emit:t}){const i=e,{t:r}=Ee(),l=ge(()=>{for(const s of i.item.provider_mappings)if(s.audio_format.content_type!=null&&[ie.DSF,ie.FLAC,ie.AIFF,ie.WAV].includes(s.audio_format.content_type)&&(s.audio_format.sample_rate>48e3||s.audio_format.bit_depth>16))return`${s.audio_format.sample_rate/1e3}kHz ${s.audio_format.bit_depth} bits`;return""}),m=function(s){var n;if(s.media_type==A.FOLDER||!i.item.provider_mappings)return!0;for(const o of s.provider_mappings)if(o.available&&((n=w.providers[o.provider_instance])!=null&&n.available))return!0;return!1};return(s,n)=>{const o=Le("hold");return u(),g("div",null,[Oe((u(),V(Q,{link:"",disabled:!m(s.item)||s.isDisabled,onClick:n[5]||(n[5]=Y(f=>t("click",s.item),["stop"])),onContextmenu:n[6]||(n[6]=Y(f=>t("menu",s.item),["right","prevent"])),"context-menu-items":s.showMenu?b(We)([s.item]):[]},{prepend:p(()=>[s.showCheckboxes?(u(),g("div",fi,[y(ri,{"model-value":s.isSelected,onClick:n[0]||(n[0]=Y(()=>{},["stop"])),"onUpdate:modelValue":n[1]||(n[1]=f=>{t("select",s.item,f)})},null,8,["model-value"])])):s.item.media_type==b(A).FOLDER?(u(),g("div",pi,[y(ne,{variant:"plain",icon:""},{default:p(()=>[y(N,{icon:"mdi-folder",size:"60",style:{align:"center"}})]),_:1})])):(u(),g("div",hi,[y(De,{height:"50",width:"50",item:s.item},null,8,["item"])]))]),title:p(()=>[s.item.media_type==b(A).FOLDER?(u(),g("span",yi,[B("span",null,S(b(ut)(s.item,b(r))),1)])):(u(),g("span",vi,[F(S(s.item.name)+" ",1),"version"in s.item&&s.item.version?(u(),g("span",bi,"("+S(s.item.version)+")",1)):I("",!0)])),s.item&&s.item.metadata?(u(),V(b(Ie),{key:2,location:"bottom"},{activator:p(({props:f})=>[b(dt)(s.item.metadata.explicit||!1)?(u(),V(N,x({key:0},f,{icon:"mdi-alpha-e-box",width:"35"}),null,16)):I("",!0)]),default:p(()=>[B("span",null,S(s.$t("tooltip.explicit")),1)]),_:1})):I("",!0)]),subtitle:p(()=>[s.item.media_type==b(A).TRACK?(u(),g("div",gi,[y(oi,null,{default:p(()=>["artists"in s.item?(u(),V(q,{key:0},{default:p(()=>[F(S(b(se)(s.item.artists,2)),1)]),_:1})):I("",!0),s.showAlbum&&"album"in s.item&&s.item.album?(u(),V(q,{key:1},{default:p(()=>[F(" • "+S(s.item.album.name),1)]),_:1})):I("",!0),"disc_number"in s.item&&s.item.disc_number&&s.showDiscNumber?(u(),V(q,{key:2},{default:p(()=>[y(N,{style:{"margin-left":"5px"},icon:"md:album"}),F(" "+S(s.item.disc_number),1)]),_:1})):I("",!0),"track_number"in s.item&&s.item.track_number&&s.showTrackNumber?(u(),V(q,{key:3},{default:p(()=>[y(N,{style:{"margin-left":"5px"},icon:"mdi-music-circle-outline"}),F(" "+S(s.item.track_number),1)]),_:1})):"position"in s.item&&s.item.position&&s.showPosition?(u(),V(q,{key:4},{default:p(()=>[y(N,{style:{"margin-left":"5px"},icon:"mdi-music-circle-outline"}),F(" "+S(s.item.position),1)]),_:1})):I("",!0)]),_:1})])):s.item.media_type==b(A).ALBUM&&"artists"in s.item&&s.item.artists&&"year"in s.item&&s.item.year&&"album_type"in s.item?(u(),g("div",_i,S(s.$t("album_type."+s.item.album_type))+" • "+S(b(se)(s.item.artists))+" • "+S(s.item.year),1)):s.item.media_type==b(A).ALBUM&&"artists"in s.item&&s.item.artists&&"album_type"in s.item?(u(),g("div",Si,S(s.$t("album_type."+s.item.album_type))+" • "+S(b(se)(s.item.artists)),1)):"artists"in s.item&&s.item.artists?(u(),g("div",wi,S(b(se)(s.item.artists)),1)):"owner"in s.item&&s.item.owner?(u(),g("div",ki,S(s.item.owner),1)):I("",!0),s.item.media_type==b(A).RADIO&&s.item.metadata.description?(u(),g("div",Ii,S(s.item.metadata.description),1)):I("",!0)]),append:p(()=>[l.value?(u(),V(At,{key:0,src:b(mt),width:"30",class:me(s.$vuetify.theme.current.dark?"hiresicondark":"hiresicon")},{default:p(()=>[y(b(Ie),{activator:"parent",location:"bottom"},{default:p(()=>[F(S(l.value),1)]),_:1})]),_:1},8,["src","class"])):I("",!0),b(ae)("bp2")&&s.showProvider?(u(),V(fe,{key:1,domain:s.item.media_type==b(A).PLAYLIST?s.item.provider_mappings[0].provider_domain:s.item.provider,size:24},null,8,["domain"])):I("",!0),b(ae)("bp3")&&"favorite"in s.item&&s.showFavorite&&!s.$vuetify.display.mobile?(u(),g("div",Vi,[y(ne,x({variant:"plain",ripple:""},i,{icon:s.item.favorite?"mdi-heart":"mdi-heart-outline",onClick:[n[2]||(n[2]=f=>b(w).toggleFavorite(s.item)),n[3]||(n[3]=Y(()=>{},["prevent"])),n[4]||(n[4]=Y(()=>{},["stop"]))],title:s.$t("tooltip.favorite")}),null,16,["icon","title"])])):I("",!0),s.showDuration&&s.item.media_type==b(A).TRACK&&"duration"in s.item&&s.item.duration!=null&&b(ae)("bp0")?(u(),g("div",$i,[B("div",null,[B("span",zi,S(b(ct)(s.item.duration)),1)])])):I("",!0)]),_:1},8,["disabled","context-menu-items"])),[[o,()=>t("menu",s.item)]])])}}});const Ui=ft(Ai,[["__scopeId","data-v-f28c82e3"]]);export{Ui as L,ri as V,Ni as _,mi as a,oi as b,q as c,We as g,j as i,je as s};
