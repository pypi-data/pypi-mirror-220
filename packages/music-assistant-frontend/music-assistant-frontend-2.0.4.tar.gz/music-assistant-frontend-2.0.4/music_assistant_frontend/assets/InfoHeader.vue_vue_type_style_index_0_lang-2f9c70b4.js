import{p as U,g as E,j as a,l as G,r as A,e as Y,I as q,J,w as K,b as O,B as b,c as F,q as o,y as m,x as t,v as s,M as n,A as f,L as y,K as h,N as d,k as H,F as I,z as M,ah as R,aa as z,S as Q,aj as W,O as X}from"./index-ade73b84.js";import{a as Z,L as ee}from"./Container-282a676b.js";import{_ as N,V as te,g as j}from"./MediaItemThumb.vue_vue_type_style_index_0_lang-cd169f56.js";import{g as ae,a as ie}from"./ListviewItem-2bd74fad.js";import{b as oe,a as D}from"./VListItem-f848c028.js";import{b as re,V as g,a as B,c as le,d as ne}from"./VCard-f3e11b51.js";import{a as se,i as me,V as c,l as P,k as de}from"./VBtn-61e39030.js";import{b as ue,V as pe}from"./VMenu-ccc026f2.js";import{b as ye,c as fe}from"./layout-b0232ef9.js";import{V as ge,a as ce}from"./VDialog-93a2100b.js";const ve=U({...se(),...ye()},"VLayout"),S=E()({name:"VLayout",props:ve(),setup(v,l){let{slots:u}=l;const{layoutClasses:k,layoutStyles:L,getLayoutItem:$,items:V,layoutRef:T}=fe(v);return me(()=>{var C;return a("div",{ref:T,class:[k.value,v.class],style:[L.value,v.style]},[(C=u.default)==null?void 0:C.call(u)])}),{getLayoutItem:$,items:V}}}),be={key:0,xs5:"","pa-5":"",style:{width:"230px",height:"230px","margin-top":"15px","margin-bottom":"15px","margin-right":"24px"}},he={key:0},ke={key:1},Ve={style:{"padding-bottom":"10px"}},Ce=["onClick"],we={style:{color:"primary"}},Le={style:{display:"flex","margin-left":"14px","padding-bottom":"10px"}},$e=["innerHTML"],Te={key:1,class:"justify-center",style:{"margin-left":"15px","padding-bottom":"20px"}},Ie={key:0,style:{position:"absolute",float:"right",right:"15px",top:"15px"}},je=G({__name:"InfoHeader",props:{item:{},activeProvider:{}},setup(v){const l=v,u=A(!1),k=A(),{mobile:L}=Y(),$=new URL(""+new URL("info_gradient-a4aefd1d.jpg",import.meta.url).href,self.location).href,V=q(),{t:T}=J();K(()=>l.item,async e=>{e&&(b.topBarTitle=e.name,k.value=j(l.item,z.FANART)||j(l.item,z.THUMB),b.topBarContextMenuItems=ae([e],e,T))},{immediate:!0}),O(()=>{b.topBarContextMenuItems=[]});const C=function(e){V.push({name:"album",params:{itemId:e.item_id,provider:e.provider}})},x=function(e){console.log("artistClick",e),V.push({name:"artist",params:{itemId:e.item_id,provider:e.provider}})},w=F(()=>{let e="";return l.item?(l.item.metadata&&l.item.metadata.description?e=l.item.metadata.description:l.item.metadata&&l.item.metadata.copyright?e=l.item.metadata.copyright:"artists"in l.item&&l.item.artists.forEach(function(r){"metadata"in r&&r.metadata.description&&(e=r.metadata.description)}),e=e.replace(`\r
`,"<br /><br /><br />"),e=e.replace("\r","<br /><br />"),e=e.replace(`
`,"<br /><br />"),e):""}),_=F(()=>{const e=L.value?160:260;return w.value.length>e?w.value.substring(0,e)+"...":w.value});return(e,r)=>(o(),m("div",null,[a(B,{variant:"flat",img:f($),style:{"margin-top":"-10px","z-index":"0"},height:"30vh","max-height":"500px","min-height":"340px"},{default:t(()=>[e.item?n("",!0):(o(),s(de,{key:0,indeterminate:""})),a(oe,{width:"100%",height:"100%",cover:"",class:"background-image",src:k.value,gradient:e.$vuetify.theme.current.dark?"to bottom, rgba(0,0,0,.90), rgba(0,0,0,.75)":"to bottom, rgba(255,255,255,.90), rgba(255,255,255,.75)"},null,8,["src","gradient"]),e.item?(o(),s(S,{key:1,style:{margin:"0",position:"absolute",top:"50%","-ms-transform":"translateY(-50%)",transform:"translateY(-50%)","padding-left":"15px","align-items":"center","padding-right":"15px"}},{default:t(()=>[e.$vuetify.display.mobile?n("",!0):(o(),m("div",be,[e.item.media_type&&(e.item.media_type==f(Q).ARTIST||"owner"in e.item)?(o(),m("div",he,[a(D,{size:"192"},{default:t(()=>[a(N,{item:e.item,height:230,width:230},null,8,["item"])]),_:1})])):(o(),m("div",ke,[a(N,{width:230,item:e.item},null,8,["item"])]))])),y("div",null,[a(re,null,{default:t(()=>[h(d(e.item.name),1)]),_:1}),y("div",Ve,["version"in e.item&&e.item.version?(o(),s(g,{key:0,class:"caption"},{default:t(()=>[h(d(e.item.version)+" ",1),a(te,{location:"bottom"},{activator:t(({props:i})=>[f(W)(e.item.metadata.explicit||!1)?(o(),s(c,H({key:0},i,{icon:"mdi-alpha-e-box",width:"35"}),null,16)):n("",!0)]),default:t(()=>[y("span",null,d(e.$t("tooltip.explicit")),1)]),_:1})]),_:1})):n("",!0),"artists"in e.item&&e.item.artists?(o(),s(g,{key:1,class:"title accent--text"},{default:t(()=>[a(c,{style:{"margin-left":"-3px","margin-right":"3px"},small:"",color:"primary",icon:"mdi-account-music"}),(o(!0),m(I,null,M(e.item.artists,(i,p)=>(o(),m("span",{key:i.item_id},[y("a",{style:{color:"accent"},onClick:Me=>x(i)},d(i.name),9,Ce),p+1<e.item.artists.length?(o(),m("span",{key:p,style:{color:"accent"}},d(" / "))):n("",!0)]))),128))]),_:1})):n("",!0),"artist"in e.item&&e.item.artist?(o(),s(g,{key:2,class:"title"},{default:t(()=>[a(c,{style:{"margin-left":"-3px","margin-right":"3px"},small:"",color:"primary",icon:"mdi-account-music"}),y("a",{onClick:r[0]||(r[0]=i=>x(e.item.artist))},d(e.item.artist.name),1)]),_:1})):n("",!0),"owner"in e.item&&e.item.owner?(o(),s(g,{key:3,class:"title"},{default:t(()=>[a(c,{color:"primary",style:{"margin-left":"-3px","margin-right":"3px"},small:"",icon:"mdi-account-music"}),y("a",we,d(e.item.owner),1)]),_:1})):n("",!0),"album"in e.item&&e.item.album?(o(),s(g,{key:4},{default:t(()=>[a(c,{color:"primary",style:{"margin-left":"-3px","margin-right":"3px"},small:"",icon:"mdi-album"}),y("a",{style:{color:"secondary"},onClick:r[1]||(r[1]=i=>{var p;return C((p=e.item)==null?void 0:p.album)})},d(e.item.album.name),1)]),_:1})):n("",!0)]),y("div",Le,[a(ue,{location:"bottom"},{activator:t(({props:i})=>{var p;return[a(P,H({color:"primary"},i,{"prepend-icon":"mdi-play-circle",disabled:!((p=f(b).selectedPlayer)!=null&&p.available)||f(b).blockGlobalPlayMenu}),{default:t(()=>[h(d(e.$t("play")),1)]),_:2},1040,["disabled"])]}),default:t(()=>[a(B,{"min-width":"300"},{default:t(()=>[a(pe,{lines:"one",density:"comfortable"},{default:t(()=>[(o(!0),m(I,null,M(f(ie)([e.item]),i=>(o(),s(ee,{key:i.label,title:e.$t(i.label,i.labelArgs),onClick:p=>i.action?i.action():""},{prepend:t(()=>[a(D,{style:{"padding-right":"10px"}},{default:t(()=>[a(c,{icon:i.icon},null,8,["icon"])]),_:2},1024)]),_:2},1032,["title","onClick"]))),128))]),_:1})]),_:1})]),_:1}),a(P,{variant:"plain",ripple:"",icon:e.item.favorite?"mdi-heart":"mdi-heart-outline",onClick:[r[2]||(r[2]=i=>f(X).toggleFavorite(e.item)),r[3]||(r[3]=R(()=>{},["prevent"])),r[4]||(r[4]=R(()=>{},["stop"]))],size:"x-large",style:{"margin-top":"-15px"}},null,8,["icon"])]),_.value?(o(),s(g,{key:0,class:"body-2 justify-left",style:{"padding-bottom":"10px","white-space":"pre-line",cursor:"pointer"},onClick:r[5]||(r[5]=i=>u.value=!u.value)},{default:t(()=>[y("div",{innerHTML:_.value},null,8,$e)]),_:1})):n("",!0),e.item&&e.item.metadata.genres?(o(),m("div",Te,[(o(!0),m(I,null,M(e.item.metadata.genres.slice(0,e.$vuetify.display.mobile?15:25),i=>(o(),s(ce,{key:i,color:"blue-grey lighten-1",style:{"margin-right":"5px","margin-bottom":"5px"},small:"",outlined:""},{default:t(()=>[h(d(i),1)]),_:2},1024))),128))])):n("",!0)])]),_:1})):n("",!0),e.item?(o(),s(S,{key:2,style:{"z-index":"800",height:"100%","padding-left":"15px"}},{default:t(()=>[e.activeProvider?(o(),m("div",Ie,[a(Z,{domain:e.activeProvider,size:25},null,8,["domain"])])):n("",!0)]),_:1})):n("",!0)]),_:1},8,["img"]),a(ge,{modelValue:u.value,"onUpdate:modelValue":r[7]||(r[7]=i=>u.value=i),"max-width":"975",width:"auto"},{default:t(()=>[a(B,null,{default:t(()=>[a(le,{innerHTML:w.value},null,8,["innerHTML"]),a(ne,null,{default:t(()=>[a(P,{color:"primary",block:"",onClick:r[6]||(r[6]=i=>u.value=!1)},{default:t(()=>[h(d(e.$t("close")),1)]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])]))}});export{je as _};
